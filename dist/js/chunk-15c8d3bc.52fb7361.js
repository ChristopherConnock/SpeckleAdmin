(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15c8d3bc"],{"0a75":function(e,t,s){"use strict";var r=s("979b"),a=s.n(r);a.a},"1a47":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-content",{staticClass:"speckle-alert md-accent md-elevation-2"},[s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-80"},[e._t("default")],2),s("div",{staticClass:"md-layout-item md-size-20",staticStyle:{"text-align":"right"}},[s("md-button",{staticClass:"md-icon-button md-raised",nativeOn:{click:function(t){e.$emit("closed")}}},[s("md-icon",[e._v("close")])],1)],1)])])},a=[],n={name:"SpeckleAlert",props:{type:String}},i=n,o=(s("b330"),s("2877")),l=Object(o["a"])(i,r,a,!1,null,"18e89500",null);l.options.__file="SpeckleAlert.vue";t["a"]=l.exports},"61ee":function(e,t,s){},"73cf":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-content",{staticClass:"md-layout md-alignment-center-center",staticStyle:{"min-height":"100%"}},[s("form",{staticClass:"md-layout-item md-size-33 md-small-size-100 md-medium-size-50",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[s("md-card",{staticClass:"md-elevation-3"},[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[e._v("Register")]),s("div",{staticClass:"md-caption"},[e.$store.state.serverManifest?s("span",[e._v("at "),s("strong",[s("a",{attrs:{href:e.$store.state.server,target:"_blank"}},[e._v(e._s(e.$store.state.serverManifest.serverName))])]),e._v(".")]):e._e(),e._v("Do you want to "),s("router-link",{attrs:{to:"/login"}},[e._v("login")]),e._v("?")],1)])],1),s("md-card-content",[s("md-field",[s("md-icon",[e._v(e._s(e.serverOk?"check":"chevron_right"))]),s("label",[e._v("Server API address")]),s("md-input",{attrs:{type:"url",name:"server"},on:{blur:e.checkServer},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}})],1),s("md-field",[s("label",[e._v("Email adress")]),s("md-input",{attrs:{name:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("md-field",[s("label",[e._v("Name")]),s("md-input",{attrs:{name:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),s("md-field",[s("label",[e._v("Surname")]),s("md-input",{attrs:{name:"surname"},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}})],1),s("md-field",[s("label",[e._v("Company")]),s("md-input",{model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1),s("md-field",[s("label",[e._v("Password")]),s("md-input",{attrs:{type:"password",name:"password",autocomplete:"new-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("md-card-actions",[s("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit"}},[e._v("Register")])],1),s("br"),s("speckle-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{type:"error"},on:{closed:function(t){e.showError=!1}}},[e._v("\n        "+e._s(e.errorMessage)+"\n      ")])],1)],1)])},a=[],n=(s("6762"),s("2fdb"),s("7f7f"),s("cadf"),s("551c"),s("097d"),s("bc3a")),i=s.n(n),o=s("1a47"),l={name:"RegisterView",components:{SpeckleAlert:o["a"]},computed:{},data:function(){return{server:null,email:null,password:null,name:null,surname:null,company:null,errorMessage:null,showError:!1,serverOk:!1}},methods:{register:function(){i.a.post("/accounts/register",{email:this.email,name:this.name,surname:this.surname,company:this.company,password:this.password}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},checkServer:function(){var e=this;this.server.includes("api")||(this.server+="/api"),i.a.get(this.server).then(function(t){if(!t.data.hasOwnProperty("serverName"))throw new Error("Failed to get server.");e.serverOk=!0,e.errorMessage="",e.showError=!1,e.$store.commit("SET_SERVER",e.server),e.$store.commit("SET_SERVER_DETAILS",t.data),localStorage.setItem("server",e.server),i.a.defaults.baseURL=e.server}).catch(function(t){e.serverOk=!1,e.errorMessage="Server url is incorrect.",e.showError=!0})}},mounted:function(){this.$store.state.server&&(this.server=this.$store.state.server,this.checkServer()),!0===this.$store.state.isAuth&&(this.errorMessage="You are already authenticated!",this.showError=!0)}},c=l,m=(s("0a75"),s("2877")),d=Object(m["a"])(c,r,a,!1,null,"2f3f5a3f",null);d.options.__file="Register.vue";t["default"]=d.exports},"979b":function(e,t,s){},b330:function(e,t,s){"use strict";var r=s("61ee"),a=s.n(r);a.a}}]);
//# sourceMappingURL=chunk-15c8d3bc.52fb7361.js.map