{"version":3,"sources":["webpack:///./src/views/Project.vue?c86d","webpack:///./src/components/PermissionTableProject.vue?d531","webpack:///./src/components/UserPermissionProjectCard.vue?a940","webpack:///src/components/UserPermissionProjectCard.vue","webpack:///./src/components/UserPermissionProjectCard.vue?5531","webpack:///./src/components/UserPermissionProjectCard.vue","webpack:///src/components/PermissionTableProject.vue","webpack:///./src/components/PermissionTableProject.vue?8702","webpack:///./src/components/PermissionTableProject.vue","webpack:///./src/components/ProjectDetailStreams.vue?12d4","webpack:///./src/components/StreamCardSmall.vue?4d59","webpack:///src/components/StreamCardSmall.vue","webpack:///./src/components/StreamCardSmall.vue?571f","webpack:///./src/components/StreamCardSmall.vue","webpack:///src/components/ProjectDetailStreams.vue","webpack:///./src/components/ProjectDetailStreams.vue?ef7c","webpack:///./src/components/ProjectDetailStreams.vue","webpack:///./src/components/ProjectDetailTitle.vue?4cdb","webpack:///src/components/ProjectDetailTitle.vue","webpack:///./src/components/ProjectDetailTitle.vue?843b","webpack:///./src/components/ProjectDetailTitle.vue","webpack:///src/views/Project.vue","webpack:///./src/views/Project.vue?b960","webpack:///./src/views/Project.vue","webpack:///./src/components/ProjectDetailStreams.vue?3fca","webpack:///./src/components/PermissionTableProject.vue?e36d","webpack:///./src/components/UserPermissionProjectCard.vue?a678","webpack:///./src/components/DetailDescription.vue?14fe","webpack:///./src/views/Project.vue?3a06","webpack:///./src/components/UserSearch.vue?2bf9","webpack:///src/components/UserSearch.vue","webpack:///./src/components/UserSearch.vue?29b2","webpack:///./src/components/UserSearch.vue","webpack:///./src/components/ProjectDetailTitle.vue?08f1","webpack:///./src/components/DetailDescription.vue?2256","webpack:///src/components/DetailDescription.vue","webpack:///./src/components/DetailDescription.vue?7229","webpack:///./src/components/DetailDescription.vue","webpack:///./src/components/StreamSearch.vue?9ad1","webpack:///./src/components/UserSearch.vue?38a5","webpack:///./src/components/StreamCardSmall.vue?26e7","webpack:///./src/components/StreamSearch.vue?67bf","webpack:///src/components/StreamSearch.vue","webpack:///./src/components/StreamSearch.vue?c958","webpack:///./src/components/StreamSearch.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","grid-list-xl","project","absolute","_v","color","nativeOn","click","$event","restore","_e","staticClass","row","wrap","xs12","resource","sm12","lg6","small","left","on","selected-user","addUserToTeam","global-disabled","canEdit","remove-user","move-user","selected-stream","addStream","remove-stream","removeStream","staticRenderFns","PermissionTableProjectvue_type_template_id_08034cf3_scoped_true_render","allUsersPop","length","grid-list-sm","_l","user","key","_id","globalDisabled","change-permission-streams","changePermissionStreams","change-permission-project","changePermissionProject","removeUser","PermissionTableProjectvue_type_template_id_08034cf3_scoped_true_staticRenderFns","UserPermissionProjectCardvue_type_template_id_457903e8_scoped_true_render","tile","align-center","justify-space-between","xs8","_s","name","surname","company","xs4","block","depressed","hasWritePermissionStreams","disabled","includes","isOwner","hasWritePermissionProject","flat","UserPermissionProjectCardvue_type_template_id_457903e8_scoped_true_staticRenderFns","UserPermissionProjectCardvue_type_script_lang_js_","props","Object","Boolean","computed","permissions","canWrite","indexOf","data","methods","$emit","components_UserPermissionProjectCardvue_type_script_lang_js_","component","componentNormalizer","options","__file","UserPermissionProjectCard","PermissionTableProjectvue_type_script_lang_js_","components","UserPermCard","type","default","canReadProject","canRead","canWriteProject","canReadStreams","canWriteStreams","allUsers","lodash_uniq_default","concat","toConsumableArray","owner","_this","map","userId","u","$store","state","users","find","dispatch","localCanWrite","localCanRead","streamCanWrite","streamCanRead","filter","uId","upgradeUser","hasWritePermission","downgradeUser","projectId","mounted","components_PermissionTableProjectvue_type_script_lang_js_","PermissionTableProject_component","PermissionTableProject","ProjectDetailStreamsvue_type_template_id_9561fafe_scoped_true_render","streams-to-omit","streams","write-only","selectStream","two-line","stream","streamId","private","to","datetime","updatedAt","Date","createdAt","toLocaleString","icon","stopPropagation","ProjectDetailStreamsvue_type_template_id_9561fafe_scoped_true_staticRenderFns","StreamCardSmallvue_type_template_id_45a6e80e_scoped_true_render","staticStyle","margin-bottom","commitMessage","StreamCardSmallvue_type_template_id_45a6e80e_scoped_true_staticRenderFns","StreamCardSmallvue_type_script_lang_js_","String","removable","s","components_StreamCardSmallvue_type_script_lang_js_","StreamCardSmall_component","StreamCardSmall","ProjectDetailStreamsvue_type_script_lang_js_","StreamSearch","populatedStreams","watch","components_ProjectDetailStreamsvue_type_script_lang_js_","ProjectDetailStreams_component","ProjectDetailStreams","ProjectDetailTitlevue_type_template_id_3f5dd573_scoped_true_render","text","update","updateName","line-height","user-select","menu-props","maxHeight","zIndex","md-disabled","items","tags","hint","solo","persistent-hint","small-chips","deletable-chips","multiple","input","updateTags","scopedSlots","_u","fn","proxy","model","value","callback","$$v","$set","expression","ProjectDetailTitlevue_type_template_id_3f5dd573_scoped_true_staticRenderFns","ProjectDetailTitlevue_type_script_lang_js_","args","lodash_debounce_default","e","components_ProjectDetailTitlevue_type_script_lang_js_","ProjectDetailTitle_component","ProjectDetailTitle","Projectvue_type_script_lang_js_","UserSearch","PermissionTable","DetailDescription","projects","p","$route","params","deleted","_this2","lodash_union_default","forEach","then","res","catch","err","isAuth","$router","push","console","log","views_Projectvue_type_script_lang_js_","Project_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailStreams_vue_vue_type_style_index_0_id_9561fafe_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailStreams_vue_vue_type_style_index_0_id_9561fafe_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTableProject_vue_vue_type_style_index_0_id_08034cf3_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTableProject_vue_vue_type_style_index_0_id_08034cf3_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserPermissionProjectCard_vue_vue_type_style_index_0_id_457903e8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserPermissionProjectCard_vue_vue_type_style_index_0_id_457903e8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetailDescription_vue_vue_type_style_index_0_id_14a82606_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetailDescription_vue_vue_type_style_index_0_id_14a82606_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Project_vue_vue_type_style_index_0_id_786e498c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Project_vue_vue_type_style_index_0_id_786e498c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","box","label","clearable","loading","searchInProgress","prepend-inner-icon","startSearchUsers","userSearch","foundUsers","margin-top","max-height","overflow-y","overflow-x","xxxv-if","fab","selectUser","UserSearchvue_type_script_lang_js_","msg","newVal","oldVal","index","findIndex","splice","searchUsers","searchString","axios_default","a","post","resources","commit","components_UserSearchvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailTitle_vue_vue_type_style_index_0_id_3f5dd573_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailTitle_vue_vue_type_style_index_0_id_3f5dd573_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","title","editDescription","updateDescription","directives","rawName","domProps","innerHTML","compiledDescription","target","href","rows","transparent","dense","baseProperties","units","tolerance","DetailDescriptionvue_type_script_lang_js_","isStream","isProcessor","marked_default","description","sanitize","hasOwnProperty","components_DetailDescriptionvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSearch_vue_vue_type_style_index_0_id_26c67241_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSearch_vue_vue_type_style_index_0_id_26c67241_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_174f9bea_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_174f9bea_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCardSmall_vue_vue_type_style_index_0_id_45a6e80e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCardSmall_vue_vue_type_style_index_0_id_45a6e80e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","mouseleave","mouseLeave","ref","autofocus","spellcheck","append-icon","updateSearch","click:append","searchfilter","paginatedStreams","filters","StreamSearchvue_type_script_lang_js_","streamsToOmit","Array","writeOnly","filteredStreams","getters","toReturn","slice","startIndex","endIndex","val","showSearchResults","$refs","searchField","blur","refreshStreams","split","t","_unused","components_StreamSearchvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-72c5bb7e.942182db.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.project)?_c('v-container',{attrs:{\"grid-list-xl\":\"\"}},[(_vm.project.deleted)?_c('v-toolbar',{attrs:{\"absolute\":\"\"}},[_c('span',[_vm._v(\"This project is in your trashbin. \")]),_c('v-spacer'),(_vm.canEdit)?_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.restore($event)}}},[_vm._v(\" Restore? \")]):_vm._e()],1):_vm._e(),_c('v-layout',{staticClass:\"mb-3\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('project-detail-title',{attrs:{\"project\":_vm.project}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('detail-description',{attrs:{\"resource\":_vm.project}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"lg6\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-title',{staticClass:\"title font-weight-light\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"supervisor_account\")]),_vm._v(\" \\n          Users\\n        \")],1),_c('v-card-text',[(_vm.canEdit)?_c('user-search',{on:{\"selected-user\":_vm.addUserToTeam}}):_vm._e(),_c('permission-table',{attrs:{\"project\":_vm.project,\"global-disabled\":!_vm.canEdit},on:{\"remove-user\":function($event){},\"move-user\":function($event){}}})],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"lg6\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-title',{staticClass:\"title font-weight-light\"},[_c('v-icon',{attrs:{\"small\":\"\",\"left\":\"\"}},[_vm._v(\"import_export\")]),_vm._v(\" \\n          Streams\\n        \")],1),_c('v-card-text',[_c('project-detail-streams',{attrs:{\"project\":_vm.project},on:{\"selected-stream\":_vm.addStream,\"remove-stream\":_vm.removeStream}})],1)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.allUsersPop.length > 0 && _vm.project)?_c('v-container',{staticClass:\"pa-0 ma-0\",attrs:{\"grid-list-sm\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.allUsersPop),function(user){return (user)?_c('v-flex',{key:user._id,attrs:{\"xs12\":\"\"}},[_c('user-perm-card',{attrs:{\"user\":user,\"project\":_vm.project,\"global-disabled\":_vm.globalDisabled},on:{\"change-permission-streams\":_vm.changePermissionStreams,\"change-permission-project\":_vm.changePermissionProject,\"remove-user\":_vm.removeUser}})],1):_vm._e()}),1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('v-card',{staticClass:\"pa-3 elevation-0\",attrs:{\"tile\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('span',[_vm._v(_vm._s(_vm.user.name)+\" \"+_vm._s(_vm.user.surname))]),_c('br'),_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.user.company))])]),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"depressed\":\"\",\"small\":\"\",\"color\":_vm.hasWritePermissionStreams?\"primary\":\"\",\"disabled\":_vm.user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.user.isOwner},nativeOn:{\"click\":function($event){return _vm.changePermissionStreams()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.user.isOwner ? \"write streams\" : _vm.hasWritePermissionStreams ? \"write streams\" : \"read streams\")+\"\\n      \")]),_c('v-btn',{attrs:{\"block\":\"\",\"depressed\":\"\",\"small\":\"\",\"color\":_vm.hasWritePermissionProject?\"primary\":\"\",\"disabled\":_vm.user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.user.isOwner},nativeOn:{\"click\":function($event){return _vm.changePermissionProject()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.user.isOwner ? \"write project\" : _vm.hasWritePermissionProject ? \"write project\" : \"read project\")+\"\\n      \")]),_c('v-btn',{attrs:{\"block\":\"\",\"flat\":\"\",\"small\":\"\",\"disabled\":_vm.user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.user.isOwner},nativeOn:{\"click\":function($event){return _vm.removeUser()}}},[_vm._v(\"\\n        remove user\\n      \")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card tile class='pa-3 elevation-0' v-if='user'>\r\n    <v-layout row wrap align-center justify-space-between>\r\n      <v-flex xs8>\r\n        <span>{{user.name}} {{user.surname}}</span><br>\r\n        <span class='caption'>{{user.company}}</span>\r\n      </v-flex>\r\n      <v-flex xs4>\r\n        <!-- write streams -->\r\n        <v-btn block depressed small :color='hasWritePermissionStreams?\"primary\":\"\"' @click.native='changePermissionStreams()' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n          {{ user.isOwner ? \"write streams\" : hasWritePermissionStreams ? \"write streams\" : \"read streams\"}}\r\n        </v-btn>\r\n        <!-- write project -->\r\n        <v-btn block depressed small :color='hasWritePermissionProject?\"primary\":\"\"' @click.native='changePermissionProject()' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n          {{ user.isOwner ? \"write project\" : hasWritePermissionProject ? \"write project\" : \"read project\"}}\r\n        </v-btn>\r\n        <!-- remove user -->\r\n        <v-btn block flat small @click.native='removeUser()' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n          remove user\r\n        </v-btn>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-card>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'UserPermissionProjectCard',\r\n  props: {\r\n    project: Object,\r\n    user: Object,\r\n    globalDisabled: Boolean,\r\n  },\r\n  computed: {\r\n    hasWritePermissionStreams(){\r\n      return this.project.permissions.canWrite.indexOf( this.user._id ) > -1\r\n    },\r\n    hasWritePermissionProject(){\r\n      return this.project.canWrite.indexOf( this.user._id ) > -1\r\n    }\r\n  },\r\n  data( ) { return {} },\r\n  methods: {\r\n    changePermissionStreams(){\r\n      this.$emit('change-permission-streams', this.user._id )\r\n    },\r\n    changePermissionProject(){\r\n      this.$emit('change-permission-project', this.user._id )\r\n    },\r\n    removeUser(){\r\n      this.$emit('remove-user', this.user._id )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermissionProjectCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermissionProjectCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPermissionProjectCard.vue?vue&type=template&id=457903e8&scoped=true&\"\nimport script from \"./UserPermissionProjectCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPermissionProjectCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPermissionProjectCard.vue?vue&type=style&index=0&id=457903e8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"457903e8\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserPermissionProjectCard.vue\"\nexport default component.exports","<template>\r\n  <v-container grid-list-sm v-if='allUsersPop.length > 0 && project' class='pa-0 ma-0'>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 v-for='user in allUsersPop' v-if='user' :key='user._id'>\r\n        <user-perm-card\r\n        @change-permission-streams='changePermissionStreams'\r\n        @change-permission-project='changePermissionProject'\r\n        @remove-user='removeUser'\r\n        :user='user' :project='project' :global-disabled='globalDisabled'></user-perm-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\nimport UserPermCard from '@/components/UserPermissionProjectCard.vue'\r\n\r\nexport default {\r\n  name: 'PermissionTable',\r\n  components: {\r\n    UserPermCard\r\n  },\r\n  props: {\r\n    project: Object,\r\n    globalDisabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    canReadProject( ) { return this.project.canRead },\r\n    canWriteProject( ) { return this.project.canWrite },\r\n    canReadStreams( ) { return this.project.permissions.canRead },\r\n    canWriteStreams( ) { return this.project.permissions.canWrite },\r\n    allUsers( ) {\r\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\r\n    },\r\n    allUsersPop( ) {\r\n      if ( this.allUsers.length === 0 ) return [ ]\r\n      return this.allUsers.map( userId => {\r\n        let u = this.$store.state.users.find( user => user._id === userId )\r\n        if ( !u ) this.$store.dispatch( 'getUser', { _id: userId } )\r\n        if ( u ) u.isOwner = u._id === this.project.owner\r\n        return u\r\n      } ) //.sort( ( a, b ) => a.name > b.name ? 1 : -1 )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    hasWritePermissionStreams( _id ) {\r\n      return this.canWriteStreams.indexOf( _id ) > -1\r\n    },\r\n    hasWritePermissionProject( _id ) {\r\n      return this.canWriteProject.indexOf( _id ) > -1\r\n    },\r\n    changePermissionProject( userId ) {\r\n      let canWrite = this.project.canWrite.indexOf( userId ) > -1 ? true : false\r\n      let localCanWrite = [ ],\r\n        localCanRead = [ ],\r\n        streamCanWrite = this.project.permissions.canWrite,\r\n        streamCanRead = this.project.permissions.canRead\r\n\r\n      if ( canWrite ) {\r\n        localCanWrite = this.project.canWrite.filter( uId => uId !== userId )\r\n        localCanRead = uniq( [ ...this.project.canRead, userId ] )\r\n      } else {\r\n        localCanRead = this.project.canRead\r\n        localCanWrite = uniq( [ ...this.project.canWrite, userId ] )\r\n        // TODO: UPGRADE STREAMS CANWRITE TOO (otherwise user x can edit the project but not do much)\r\n        streamCanWrite = uniq( [ ...streamCanWrite, userId ] )\r\n        this.upgradeUser( userId )\r\n      }\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, permissions: { canRead: streamCanRead, canWrite: streamCanWrite }, canRead: localCanRead, canWrite: localCanWrite } )\r\n    },\r\n    changePermissionStreams( userId ) {\r\n      let hasWritePermission = this.project.permissions.canWrite.indexOf( userId ) > -1 ? true : false\r\n      if ( !hasWritePermission ) this.upgradeUser( userId )\r\n      else this.downgradeUser( userId )\r\n    },\r\n    upgradeUser( userId ) {\r\n      this.$store.dispatch( 'upgradeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    },\r\n    downgradeUser( userId ) {\r\n      this.$store.dispatch( 'downgradeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    },\r\n    removeUser( userId ) {\r\n      this.$store.dispatch( 'removeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    }\r\n  },\r\n  mounted( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user {\r\n  padding: 2px 10px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionTableProject.vue?vue&type=template&id=08034cf3&scoped=true&\"\nimport script from \"./PermissionTableProject.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionTableProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionTableProject.vue?vue&type=style&index=0&id=08034cf3&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08034cf3\",\n  null\n  \n)\n\ncomponent.options.__file = \"PermissionTableProject.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"elevation-0\"},[(_vm.canEdit)?_c('stream-search',{attrs:{\"streams-to-omit\":_vm.streams,\"write-only\":\"\"},on:{\"selected-stream\":_vm.selectStream}}):_vm._e(),(_vm.streams.length === 0)?_c('v-card-text',{staticClass:\"md-layout-item md-size-100\"},[_c('p',[_vm._v(\"This project has no streams. Add some using the form above!\")])]):_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.populatedStreams),function(stream){return _c('v-list-tile',{key:stream.streamId},[_c('v-list-tile-content',[_c('v-list-tile-title',[_c('span',{staticClass:\"caption\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_vm._v(\" \"+_vm._s(stream.streamId)+\"\\n               \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(stream.private ? \"lock\" : \"lock_open\"))])],1),_vm._v(\" \\n            \"),_c('span',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(stream.name))]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/streams/\" + stream.streamId}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"open_in_new\")])],1)],1),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-thin caption\"},[_vm._v(\"\\n            last changed \"),_c('timeago',{attrs:{\"datetime\":stream.updatedAt}}),_vm._v(\", created on \"+_vm._s(new Date( stream.createdAt ).toLocaleString())+\"\\n          \")],1)],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.removeStream(stream.streamId)}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.stream)?_c('md-card',{staticClass:\"md-elevation-0\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('md-card-content',{staticClass:\"md-layout md-gutter md-alignment-center-left\"},[_c('div',{staticClass:\"md-layout-item md-size-30\"},[_c('router-link',{attrs:{\"to\":\"/streams/\"+_vm.stream.streamId}},[_vm._v(_vm._s(_vm.stream.name))])],1),_c('div',{staticClass:\"md-layout-item md-caption\"},[(_vm.stream.commitMessage)?_c('span',[_vm._v(\" \"+_vm._s(_vm.stream.commitMessage))]):_vm._e()]),_c('div',{staticClass:\"md-layout-item md-caption text-right\"},[_vm._v(\"\\n      \"+_vm._s(_vm.stream.streamId)+\" | last update \"),_c('strong',[_c('timeago',{attrs:{\"datetime\":_vm.stream.updatedAt}})],1)]),(_vm.removable)?_c('div',{staticClass:\"md-layout-item text-right\"},[_c('md-button',{staticClass:\"md-dense-xxx md-icon-button md-accent\",nativeOn:{\"click\":function($event){return _vm.$emit(\"remove-stream\", _vm.streamId)}}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1):_vm._e()])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card class='md-elevation-0' style='margin-bottom: 5px;' v-if='stream'>\r\n    <md-card-content class='md-layout md-gutter md-alignment-center-left'>\r\n      <div class=\"md-layout-item md-size-30\">\r\n        <router-link :to='\"/streams/\"+stream.streamId'>{{stream.name}}</router-link>\r\n      </div>\r\n      <div class=\"md-layout-item md-caption\">\r\n        <span v-if='stream.commitMessage'> {{stream.commitMessage}}</span>\r\n      </div>\r\n      <div class=\"md-layout-item md-caption text-right\">\r\n        {{stream.streamId}} | last update <strong><timeago :datetime='stream.updatedAt'></timeago></strong>\r\n      </div>\r\n      <div class=\"md-layout-item text-right\" v-if='removable'>\r\n        <md-button class='md-dense-xxx md-icon-button md-accent' @click.native='$emit(\"remove-stream\", streamId)'>\r\n          <md-icon>delete</md-icon>\r\n        </md-button>\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'StreamCardSmall',\r\n  props: {\r\n    streamId: String,\r\n    removable: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  computed: {\r\n    stream( ) {\r\n      let stream = this.$store.state.streams.find( s => s.streamId === this.streamId )\r\n      if ( !stream ) this.$store.dispatch( 'getStream', { streamId: this.streamId } )\r\n      return stream\r\n    }\r\n  },\r\n  data( ) { return {} },\r\n  methods: {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamCardSmall.vue?vue&type=template&id=45a6e80e&scoped=true&\"\nimport script from \"./StreamCardSmall.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamCardSmall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45a6e80e\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamCardSmall.vue\"\nexport default component.exports","<template>\r\n  <v-card class='elevation-0'>\r\n    <stream-search :streams-to-omit='streams' write-only v-on:selected-stream='selectStream' v-if='canEdit'></stream-search>\r\n    <v-card-text class='md-layout-item md-size-100' v-if='streams.length === 0'>\r\n      <p>This project has no streams. Add some using the form above!</p>\r\n    </v-card-text>\r\n    <v-card-text v-else class='pa-0'>\r\n      <v-list two-line>\r\n        <v-list-tile v-for='stream in populatedStreams' :key='stream.streamId'>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>\r\n              <span class='caption'>\r\n                <v-icon small>fingerprint</v-icon> {{stream.streamId}}\r\n                &nbsp;<v-icon small>{{stream.private ? \"lock\" : \"lock_open\"}}</v-icon>\r\n              </span>&nbsp;\r\n              <span class='text-capitalize'>{{stream.name}}</span>&nbsp;<router-link :to='\"/streams/\" + stream.streamId'><v-icon small>open_in_new</v-icon></router-link>\r\n            </v-list-tile-title>\r\n            <v-list-tile-sub-title class='xxx-font-weight-thin caption'>\r\n              last changed <timeago :datetime='stream.updatedAt'></timeago>, created on {{new Date( stream.createdAt ).toLocaleString()}}\r\n            </v-list-tile-sub-title>\r\n          </v-list-tile-content>\r\n          <v-list-tile-action>\r\n            <v-btn small icon @click.stop.native='removeStream(stream.streamId)'><v-icon>close</v-icon></v-btn>\r\n          </v-list-tile-action>\r\n        </v-list-tile>\r\n      </v-list>\r\n      </v-list>\r\n      <!-- <stream-card-small v-for='stream in streams' :key='stream' :streamId='stream' v-on:remove-stream='removeStream' :removable='canEdit'></stream-card-small> -->\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport StreamCardSmall from './StreamCardSmall.vue'\r\nimport StreamSearch from './StreamSearch.vue'\r\n\r\nexport default {\r\n  name: 'ProjectStreams',\r\n  components: {\r\n    StreamCardSmall,\r\n    StreamSearch\r\n  },\r\n  props: {\r\n    project: Object,\r\n  },\r\n  computed: {\r\n    streams( ) { return this.project.streams ? this.project.streams : [ ] },\r\n    populatedStreams( ) {\r\n      return this.$store.state.streams.filter( stream => this.streams.indexOf( stream.streamId ) !== -1 )\r\n    },\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n  },\r\n  watch: {},\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    selectStream( streamId ) {\r\n      // just bubble it up\r\n      this.$emit( 'selected-stream', streamId )\r\n    },\r\n    removeStream( streamId ) {\r\n      // just bubble it up\r\n      this.$emit( 'remove-stream', streamId )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetailStreams.vue?vue&type=template&id=9561fafe&scoped=true&\"\nimport script from \"./ProjectDetailStreams.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetailStreams.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetailStreams.vue?vue&type=style&index=0&id=9561fafe&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9561fafe\",\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectDetailStreams.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"elevation-0 pa-3\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"display-1 font-weight-light text-capitalize my-5\",attrs:{\"xs12\":\"\"}},[(_vm.canEdit)?_c('editable-span',{attrs:{\"text\":_vm.project.name},on:{\"update\":_vm.updateName}}):_c('span',[_vm._v(_vm._s(_vm.project.name))])],1),_c('v-flex',{staticClass:\"caption\",staticStyle:{\"line-height\":\"32px\"},attrs:{\"xs12\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"person\")]),_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.project.canRead.length))]),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"import_export\")]),_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(_vm.project.streams.length))]),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_vm._v(\" \"),_c('strong',{staticStyle:{\"user-select\":\"all\"}},[_vm._v(_vm._s(_vm.project._id))]),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"access_time\")]),_vm._v(\" \"),_c('timeago',{attrs:{\"datetime\":_vm.project.updatedAt}}),_vm._v(\" \\n      \"),_c('span',{staticClass:\"caption font-weight-light text-uppercase\"},[_vm._v(\"Owned by \"),_c('strong',[_vm._v(_vm._s(_vm.owner))])])],1),_c('v-flex',{staticClass:\"ma-0 pa-0 mb-2\",attrs:{\"xs12\":\"\"}},[_c('v-combobox',{attrs:{\"menu-props\":{\"maxHeight\":0, \"zIndex\":\"0\"},\"md-disabled\":\"!canEdit\",\"items\":_vm.project.tags,\"hint\":\"add or remove tags\",\"solo\":\"\",\"persistent-hint\":\"\",\"small-chips\":\"\",\"deletable-chips\":\"\",\"multiple\":\"\",\"tags\":\"\"},on:{\"input\":_vm.updateTags},scopedSlots:_vm._u([{key:\"no-data\",fn:function(){return [_vm._v(\"project has no tags.\")]},proxy:true}]),model:{value:(_vm.project.tags),callback:function ($$v) {_vm.$set(_vm.project, \"tags\", $$v)},expression:\"project.tags\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class='elevation-0 pa-3'>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 class='display-1 font-weight-light text-capitalize my-5'>\r\n        <editable-span v-if='canEdit' :text='project.name' @update='updateName'></editable-span>\r\n        <span v-else>{{project.name}}</span>\r\n      </v-flex>\r\n      <v-flex xs12 class='caption' style='line-height: 32px'>\r\n        <v-icon small>person</v-icon> <span class='caption'>{{project.canRead.length}}</span>&nbsp;\r\n        <v-icon small>import_export</v-icon> <span class='caption'>{{project.streams.length}}</span>&nbsp;\r\n        <v-icon small>fingerprint</v-icon>&nbsp;<strong style=\"user-select:all\">{{project._id}}</strong>&nbsp;\r\n        <v-icon small>access_time</v-icon>&nbsp;<timeago :datetime='project.updatedAt'></timeago>&nbsp;\r\n        <span class='caption font-weight-light text-uppercase'>Owned by <strong>{{owner}}</strong></span>\r\n      </v-flex>\r\n      <v-flex xs12 class='ma-0 pa-0 mb-2'>\r\n        <v-combobox :menu-props='{\"maxHeight\":0, \"zIndex\":\"0\"}' @input='updateTags' md-disabled='!canEdit' v-model=\"project.tags\" :items='project.tags' hint='add or remove tags' solo persistent-hint small-chips deletable-chips multiple tags>\r\n          <template v-slot:no-data>project has no tags.</template>\r\n        </v-combobox>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport uniq from 'lodash.uniq'\r\n\r\nexport default {\r\n  name: 'HelloWorld',\r\n  props: {\r\n    project: Object\r\n  },\r\n  computed: {\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n    owner( ) {\r\n      let u = this.$store.state.users.find( user => user._id === this.project.owner )\r\n      if ( !u ) {\r\n        this.$store.dispatch( 'getUser', { _id: this.project.owner } )\r\n      }\r\n      return u ? u.surname.includes( \"is you\" ) ? `you` : `${u.name} ${u.surname}` : 'Loading'\r\n    },\r\n    canReadProject( ) { return this.project.canRead },\r\n    canWriteProject( ) { return this.project.canWrite },\r\n    canReadStreams( ) { return this.project.permissions.canRead },\r\n    canWriteStreams( ) { return this.project.permissions.canWrite },\r\n    allUsers( ) {\r\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\r\n    }\r\n  },\r\n  data( ) { return {} },\r\n  methods: {\r\n    updateName( args ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, name: args.text } )\r\n    },\r\n    updateTags: debounce( function( e ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, tags: this.project.tags } )\r\n    }, 1000 ),\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.title-card {\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n.project-name {\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.project-name:hover {\r\n  color: #448aff;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetailTitle.vue?vue&type=template&id=3f5dd573&scoped=true&\"\nimport script from \"./ProjectDetailTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetailTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetailTitle.vue?vue&type=style&index=0&id=3f5dd573&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f5dd573\",\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectDetailTitle.vue\"\nexport default component.exports","<template>\r\n  <v-container grid-list-xl v-if='project'>\r\n    <v-toolbar absolute v-if='project.deleted'>\r\n      <span>This project is in your trashbin. </span>\r\n      <v-spacer></v-spacer>\r\n      <v-btn color='primary' v-if='canEdit' @click.native='restore'> Restore? </v-btn>\r\n    </v-toolbar>\r\n    <v-layout row wrap class='mb-3'>\r\n      <v-flex xs12>\r\n        <project-detail-title :project='project'></project-detail-title>\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <detail-description :resource='project'></detail-description>\r\n      </v-flex>\r\n      <v-flex xs12 sm12 lg6>\r\n        <v-card class='elevation-0'>\r\n          <v-card-title class='title font-weight-light'>\r\n            <v-icon small left>supervisor_account</v-icon>&nbsp;\r\n            Users\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <user-search v-on:selected-user='addUserToTeam' v-if='canEdit'></user-search>\r\n            <permission-table :project='project' :global-disabled='!canEdit' @remove-user='' @move-user=''></permission-table>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-flex>\r\n      <v-flex xs12 sm12 lg6>\r\n        <v-card  class='elevation-0'>\r\n          <v-card-title class='title font-weight-light'>\r\n            <v-icon small left>import_export</v-icon>&nbsp;\r\n            Streams\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <project-detail-streams :project='project' v-on:selected-stream='addStream' v-on:remove-stream='removeStream'></project-detail-streams>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\nimport UserSearch from '../components/UserSearch.vue'\r\nimport PermissionTable from '../components/PermissionTableProject.vue'\r\nimport DetailDescription from '../components/DetailDescription.vue'\r\nimport ProjectDetailStreams from '../components/ProjectDetailStreams.vue'\r\nimport ProjectDetailTitle from '../components/ProjectDetailTitle.vue'\r\n\r\nexport default {\r\n  name: 'ProjectDetailView',\r\n  components: {\r\n    UserSearch,\r\n    PermissionTable,\r\n    DetailDescription,\r\n    ProjectDetailStreams,\r\n    ProjectDetailTitle\r\n  },\r\n  props: {},\r\n  computed: {\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n    project( ) {\r\n      return this.$store.state.projects.find( p => p._id === this.$route.params.projectId )\r\n    },\r\n    canReadProject( ) { return this.project.canRead },\r\n    canWriteProject( ) { return this.project.canWrite },\r\n    canReadStreams( ) { return this.project.permissions.canRead },\r\n    canWriteStreams( ) { return this.project.permissions.canWrite },\r\n    allUsers( ) {\r\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    restore( ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, deleted: false } )\r\n    },\r\n    addUserToTeam( userId ) {\r\n      this.$store.dispatch( 'addUserToProject', { projectId: this.project._id, userId: userId } )\r\n      return\r\n    },\r\n    addStream( streamId ) {\r\n      this.$store.dispatch( 'addStreamToProject', { projectId: this.project._id, streamId: streamId } )\r\n      return\r\n    },\r\n    removeStream( streamId ) {\r\n      this.$store.dispatch( 'removeStreamFromProject', { projectId: this.project._id, streamId: streamId } )\r\n    },\r\n  },\r\n  mounted( ) {\r\n    let project = this.$store.state.projects.find( p => p._id === this.$route.params.projectId )\r\n    if ( !project ) {\r\n      this.$store.dispatch( 'getProject', { _id: this.$route.params.projectId } )\r\n        .then( res => {\r\n          this.$store.dispatch( 'getUser', { _id: res.data.resource.owner } )\r\n          union( res.data.resource.canRead, res.data.resource.canWrite ).forEach( _id => this.$store.dispatch( 'getUser', { _id: _id } ) )\r\n        } )\r\n        .catch( err => {\r\n          if ( this.$store.state.isAuth ) {\r\n            this.$router.push( '/projects' )\r\n            console.log( \"you don't have permission.\" )\r\n          } else {\r\n            console.log( \"should redirect to login\" )\r\n            this.$router.push( '/login' )\r\n          }\r\n          console.log( err )\r\n        } )\r\n    } else {\r\n      this.$store.dispatch( 'getUser', { _id: project.owner } )\r\n      union( project.canRead, project.canWrite ).forEach( _id => this.$store.dispatch( 'getUser', { _id: _id } ) )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.detail-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Project.vue?vue&type=template&id=786e498c&scoped=true&\"\nimport script from \"./Project.vue?vue&type=script&lang=js&\"\nexport * from \"./Project.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Project.vue?vue&type=style&index=0&id=786e498c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"786e498c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Project.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=style&index=0&id=9561fafe&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=style&index=0&id=9561fafe&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=style&index=0&id=08034cf3&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=style&index=0&id=08034cf3&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermissionProjectCard.vue?vue&type=style&index=0&id=457903e8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPermissionProjectCard.vue?vue&type=style&index=0&id=457903e8&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=style&index=0&id=14a82606&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=style&index=0&id=14a82606&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=style&index=0&id=786e498c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=style&index=0&id=786e498c&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-center\":\"\",\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"pb-0\",attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"box\":\"\",\"label\":\"search for users\",\"clearable\":\"\",\"flat\":\"\",\"loading\":_vm.searchInProgress,\"prepend-inner-icon\":\"search\"},on:{\"input\":_vm.startSearchUsers},model:{value:(_vm.userSearch),callback:function ($$v) {_vm.userSearch=$$v},expression:\"userSearch\"}})],1),(_vm.userSearch!==null && _vm.foundUsers.length > 0)?_c('v-flex',{staticClass:\"mb-5\",staticStyle:{\"margin-top\":\"-30px\"},attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"elevation-10\"},[(_vm.userSearch)?_c('v-card-title',{staticClass:\"subheading\"},[_vm._v(\"Search results (\"+_vm._s(_vm.foundUsers.length)+\" users)\")]):_vm._e(),_c('v-divider'),(_vm.foundUsers.length>0)?_c('v-card-text',{staticStyle:{\"max-height\":\"410px\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[_c('v-list',{attrs:{\"two-line\":\"\",\"xxxv-if\":\"filters.length > 0\"}},_vm._l((_vm.foundUsers),function(user){return _c('v-list-tile',{key:user._id},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\"\\n              \")]),_c('v-list-tile-sub-title',{staticClass:\"caption\"},[_c('span',{staticClass:\"caption\"},[_vm._v(_vm._s(user.company))])])],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectUser(user._id)}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)],1)}),1)],1):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-layout align-center row wrap>\r\n    <v-flex xs12 class='pb-0'>\r\n      <v-text-field box label='search for users' clearable v-model='userSearch' flat :loading='searchInProgress' prepend-inner-icon=\"search\" @input='startSearchUsers'></v-text-field>\r\n    </v-flex>\r\n    <v-flex xs12 style='margin-top:-30px' class='mb-5' v-if='userSearch!==null && foundUsers.length > 0'>\r\n      <v-card class='elevation-10'>\r\n        <v-card-title class='subheading' v-if='userSearch'>Search results ({{foundUsers.length}} users)</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style='max-height: 410px; overflow-y: auto; overflow-x: hidden;' v-if='foundUsers.length>0'>\r\n          <v-list two-line xxxv-if='filters.length > 0'>\r\n            <v-list-tile v-for='user in foundUsers' :key='user._id'>\r\n              <v-list-tile-content>\r\n                <v-list-tile-title>\r\n                  {{user.name}} {{user.surname}}\r\n                </v-list-tile-title>\r\n                <v-list-tile-sub-title class='caption'>\r\n                  <span class='caption'>{{user.company}}</span>\r\n                </v-list-tile-sub-title>\r\n              </v-list-tile-content>\r\n              <v-list-tile-action>\r\n                <v-btn fab small depressed @click.native='selectUser(user._id)'>\r\n                  <v-icon>add</v-icon>\r\n                </v-btn>\r\n              </v-list-tile-action>\r\n            </v-list-tile>\r\n          </v-list>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport Axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserSearch',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  watch: {\r\n    userSearch( newVal, oldVal ) {\r\n      if ( newVal === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectUser( userId ) {\r\n      this.$emit( 'selected-user', userId )\r\n      let index = this.foundUsers.findIndex( u => u._id === userId )\r\n      this.foundUsers.splice( index, 1 )\r\n    },\r\n    startSearchUsers( ) {\r\n      this.searchInProgress = true\r\n      this.searchUsers( this.userSearch )\r\n    },\r\n    searchUsers: debounce( function( searchString ) {\r\n      if ( searchString === '' || searchString === null ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n        return\r\n      }\r\n      if ( searchString.length < 3 ) {\r\n        // TODO: Show an error\r\n        return\r\n      }\r\n      Axios.post( '/accounts/search', { searchString: searchString } )\r\n        .then( res => {\r\n          console.log( res )\r\n          this.foundUsers = res.data.resources\r\n          // build up a db of users\r\n          if ( res.data.resources.length > 0 )\r\n            this.$store.commit( 'ADD_USERS', res.data.resources )\r\n          this.searchInProgress = false\r\n        } )\r\n        .catch( err => {\r\n          this.foundUsers = [ ]\r\n          this.searchInProgress = false\r\n        } )\r\n    }, 1500 )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.hovered {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSearch.vue?vue&type=template&id=174f9bea&scoped=true&\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"174f9bea\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserSearch.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=style&index=0&id=3f5dd573&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=style&index=0&id=3f5dd573&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.resource)?_c('v-card',{staticClass:\"elevation-0\"},[_c('v-toolbar',{staticClass:\"elevation-0 transparent\"},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"book\")]),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(_vm._s(_vm.title)+\" Description\")]),_c('v-spacer'),_c('v-toolbar-items',[(_vm.editDescription===false && _vm.canEdit)?_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){_vm.editDescription=true}}},[_vm._v(\"Edit\")]):_vm._e(),(_vm.editDescription===true)?_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.updateDescription($event)}}},[_vm._v(\"Done\")]):_vm._e()],1)],1),_c('v-divider'),_c('v-card-text',[_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editDescription),expression:\"!editDescription\"}]},[_c('v-flex',{attrs:{\"xs12\":\"\"},domProps:{\"innerHTML\":_vm._s(_vm.compiledDescription)}})],1),_c('v-layout',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editDescription),expression:\"editDescription\"}],attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"caption\",attrs:{\"xs12\":\"\"}},[_vm._v(\"\\n        Supports \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://en.wikipedia.org/wiki/Markdown#Example\"}},[_vm._v(\"markdown:\")]),_c('strong',[_vm._v(\" ** bold **\")]),_vm._v(\", \"),_c('i',[_vm._v(\"* italic *\")]),_vm._v(\", \"),_c('code',[_vm._v(\"# Heading 1\")]),_vm._v(\", \"),_c('code',[_vm._v(\"## Heading 2\")]),_vm._v(\", \"),_c('code',[_vm._v(\"[links](http://example.com)\")]),_vm._v(\", etc.\\n      \")]),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-textarea',{attrs:{\"box\":\"\",\"rows\":\"15\"},model:{value:(_vm.resource.description),callback:function ($$v) {_vm.$set(_vm.resource, \"description\", $$v)},expression:\"resource.description\"}})],1)],1)],1),(_vm.isStream)?_c('v-toolbar',{staticClass:\"elevation-0 transparent\",attrs:{\"transparent\":\"\",\"dense\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"power_input\")]),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(\"Units\")])],1):_vm._e(),_c('v-divider'),(_vm.resource.baseProperties)?_c('v-card-text',{staticClass:\"md-caption\"},[_c('span',[_c('strong',[_vm._v(\"Units:\")]),_vm._v(\" \"+_vm._s(_vm.resource.baseProperties.units))]),_vm._v(\";\\n    \"),_c('span',[_c('strong',[_vm._v(\"Tolerance:\")]),_vm._v(\" \"+_vm._s(_vm.resource.baseProperties.tolerance))]),_vm._v(\".\\n  \")]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card v-if='resource' class='elevation-0'>\r\n    <v-toolbar class='elevation-0 transparent'>\r\n      <v-icon left small>book</v-icon>\r\n      <span class='title font-weight-light'>{{title}} Description</span>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-items>\r\n        <v-btn flat color='primary' v-if='editDescription===false && canEdit' @click.native='editDescription=true'>Edit</v-btn>\r\n        <v-btn flat color='primary' v-if='editDescription===true' @click.native='updateDescription'>Done</v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <v-divider></v-divider>\r\n    <v-card-text>\r\n      <v-layout v-show='!editDescription'>\r\n        <v-flex xs12 v-html='compiledDescription'></v-flex>\r\n      </v-layout>\r\n      <v-layout v-show='editDescription' row wrap>\r\n        <v-flex xs12 class=\"caption\">\r\n          Supports <a class='' target=\"_blank\" href='https://en.wikipedia.org/wiki/Markdown#Example'>markdown:</a><strong> ** bold **</strong>, <i>* italic *</i>, <code># Heading 1</code>, <code>## Heading 2</code>, <code>[links](http://example.com)</code>, etc.\r\n        </v-flex>\r\n        <v-flex xs12>\r\n          <v-textarea box rows='15' v-model=\"resource.description\"></v-textarea>\r\n        </v-flex>\r\n        </md-field>\r\n      </v-layout>\r\n    </v-card-text>\r\n     <v-toolbar transparent class='elevation-0 transparent' dense v-if='isStream'>\r\n      <v-icon left small>power_input</v-icon>\r\n      <span class='title font-weight-light'>Units</span>\r\n     </v-toolbar>\r\n     <v-divider></v-divider>\r\n    <v-card-text class='md-caption' v-if='resource.baseProperties'>\r\n      <span><strong>Units:</strong> {{resource.baseProperties.units}}</span>;\r\n      <span><strong>Tolerance:</strong> {{resource.baseProperties.tolerance}}</span>.\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'DetailDescription',\r\n  props: {\r\n    resource: Object,\r\n  },\r\n  computed: {\r\n    title ( ) {\r\n      if ( this.isStream ) return \"Stream\"\r\n      else if ( this.isProcessor ) return \"Processor\"\r\n      else return \"Project\"\r\n    },\r\n    compiledDescription( ) {\r\n      return marked( this.resource.description, { sanitize: true } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.resource.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.resource.owner === this.$store.state.user._id\r\n    },\r\n    isStream( ) {\r\n      return this.resource.hasOwnProperty( 'streamId' )\r\n    },\r\n    isProcessor( ) {\r\n      return this.resource.hasOwnProperty( 'blocks' )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      editDescription: false\r\n    }\r\n  },\r\n  methods: {\r\n    updateDescription( ) {\r\n      this.editDescription = false\r\n      if ( this.isStream )\r\n        this.$store.dispatch( 'updateStream', { streamId: this.resource.streamId, description: this.resource.description } )\r\n      else if ( this.isProcessor )\r\n        this.$store.dispatch( 'updateProcessor', { _id: this.resource._id, description: this.resource.description } )\r\n      else\r\n        this.$store.dispatch( 'updateProject', { _id: this.resource._id, description: this.resource.description } )\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailDescription.vue?vue&type=template&id=14a82606&scoped=true&\"\nimport script from \"./DetailDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailDescription.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailDescription.vue?vue&type=style&index=0&id=14a82606&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14a82606\",\n  null\n  \n)\n\ncomponent.options.__file = \"DetailDescription.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=style&index=0&id=26c67241&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=style&index=0&id=26c67241&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=174f9bea&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-center\":\"\",\"row\":\"\",\"wrap\":\"\"},on:{\"mouseleave\":_vm.mouseLeave}},[_c('v-flex',{staticClass:\"pb-0\",attrs:{\"xs12\":\"\"}},[_c('v-text-field',{ref:\"searchField\",attrs:{\"autofocus\":\"\",\"box\":\"\",\"flat\":\"\",\"clearable\":\"\",\"prepend-inner-icon\":\"search\",\"label\":\"search for streams\",\"spellcheck\":\"false\",\"disabled\":_vm.globalDisabled,\"loading\":_vm.searchInProgress,\"append-icon\":\"refresh\"},on:{\"input\":_vm.updateSearch,\"click:append\":function($event){return _vm.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )}},model:{value:(_vm.searchfilter),callback:function ($$v) {_vm.searchfilter=$$v},expression:\"searchfilter\"}})],1),(_vm.showSearchResults)?_c('v-flex',{staticClass:\"mb-5\",staticStyle:{\"margin-top\":\"-30px\"},attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"elevation-10\"},[_c('v-card-title',{staticClass:\"subheading\"},[_vm._v(\"Search results (\"+_vm._s(_vm.paginatedStreams.length)+\" streams)\")]),_c('v-divider'),(_vm.paginatedStreams.length>0)?_c('v-card-text',{staticStyle:{\"max-height\":\"410px\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[(_vm.filters.length > 0)?_c('v-list',{attrs:{\"two-line\":\"\"}},_vm._l((_vm.paginatedStreams),function(stream){return _c('v-list-tile',{key:stream.streamId},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                \"+_vm._s(stream.name)+\"\\n              \")]),_c('v-list-tile-sub-title',{staticClass:\"caption\"},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_c('span',{staticClass:\"caption\",staticStyle:{\"user-select\":\"all\"}},[_vm._v(_vm._s(stream.streamId))]),_vm._v(\" \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"edit\")]),_c('timeago',{attrs:{\"datetime\":stream.updatedAt}})],1)],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectStream(stream.streamId)}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)],1)}),1):_vm._e()],1):_vm._e()],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-layout align-center row wrap @mouseleave='mouseLeave'>\r\n    <v-flex xs12 class='pb-0'>\r\n      <v-text-field ref=\"searchField\" autofocus box flat clearable prepend-inner-icon=\"search\" label='search for streams' @input=\"updateSearch\" v-model='searchfilter' spellcheck=\"false\" :disabled='globalDisabled' :loading='searchInProgress' append-icon=\"refresh\" @click:append=\"$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\"></v-text-field>\r\n    </v-flex>\r\n    <v-flex xs12 v-if='showSearchResults' style='margin-top:-30px' class='mb-5'>\r\n      <v-card class='elevation-10'>\r\n        <v-card-title class='subheading'>Search results ({{paginatedStreams.length}} streams)</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style='max-height: 410px; overflow-y: auto; overflow-x: hidden;' v-if='paginatedStreams.length>0'>\r\n          <v-list two-line v-if='filters.length > 0'>\r\n            <v-list-tile v-for='stream in paginatedStreams' :key='stream.streamId'>\r\n              <v-list-tile-content>\r\n                <v-list-tile-title>\r\n                  {{stream.name}}\r\n                </v-list-tile-title>\r\n                <v-list-tile-sub-title class='caption'>\r\n                  <v-icon small>fingerprint</v-icon><span class='caption' style=\"user-select:all;\">{{stream.streamId}}</span>&nbsp;<v-icon small>edit</v-icon>\r\n                  <timeago :datetime='stream.updatedAt'></timeago>\r\n                </v-list-tile-sub-title>\r\n              </v-list-tile-content>\r\n              <v-list-tile-action>\r\n                <v-btn fab small depressed @click.native='selectStream(stream.streamId)'>\r\n                  <v-icon>add</v-icon>\r\n                </v-btn>\r\n              </v-list-tile-action>\r\n            </v-list-tile>\r\n          </v-list>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\n\r\nexport default {\r\n  name: 'StreamSearch',\r\n  props: {\r\n    streamsToOmit: {\r\n      type: Array,\r\n      default ( ) { return [ ] }\r\n    },\r\n    globalDisabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    writeOnly: Boolean\r\n  },\r\n  computed: {\r\n    filteredStreams( ) {\r\n      return this.$store.getters.filteredStreams( this.filters ).filter( s => this.streamsToOmit.indexOf( s.streamId ) === -1 )\r\n    },\r\n    paginatedStreams( ) {\r\n      let toReturn = this.filteredStreams.slice( this.startIndex, this.endIndex )\r\n      if ( this.writeOnly )\r\n        toReturn = toReturn.filter( s => s.owner === this.$store.state.user._id || s.canWrite.indexOf( this.$store.state.user._id ) > -1 )\r\n      return toReturn\r\n    }\r\n  },\r\n  watch: {\r\n    searchfilter( val ) {\r\n      if ( val === '' || val === null ) {\r\n        this.showSearchResults = false\r\n        this.searchInProgress = false\r\n      } else\r\n        this.searchInProgress = true\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      searchfilter: '',\r\n      filters: [ ],\r\n      showSearchResults: false,\r\n      searchInProgress: false,\r\n      startIndex: 0,\r\n      endIndex: 42\r\n    }\r\n  },\r\n  methods: {\r\n    mouseLeave() {\r\n      this.$refs.searchField.blur()\r\n    },\r\n    refreshStreams( ) {\r\n      this.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\r\n    },\r\n    selectStream( streamId ) {\r\n      this.$emit( 'selected-stream', streamId )\r\n    },\r\n    updateSearch: debounce( function( e ) {\r\n      this.searchfilter = e\r\n\r\n      if ( e === '' || e === null ) {\r\n        this.showSearchResults = false\r\n        return\r\n      }\r\n      this.showSearchResults = true\r\n      this.searchInProgress = false\r\n      try {\r\n        let filters = this.searchfilter.split( ' ' ).map( t => {\r\n          if ( t.includes( ':' ) )\r\n            return { key: t.split( ':' )[ 0 ], value: t.split( ':' )[ 1 ] }\r\n          else if ( !t.includes( 'public' ) && !t.includes( 'private' ) && !t.includes( 'mine' ) && !t.includes( 'shared' ) ) // TODO: not elegant\r\n            return { key: 'name', value: t }\r\n          else\r\n            return { key: t, value: null }\r\n        } )\r\n        this.filters = filters\r\n      } catch {\r\n        this.filters = [ { key: 'name', value: e } ]\r\n      }\r\n    }, 1000 ),\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.hovered {\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamSearch.vue?vue&type=template&id=26c67241&scoped=true&\"\nimport script from \"./StreamSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamSearch.vue?vue&type=style&index=0&id=26c67241&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26c67241\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamSearch.vue\"\nexport default component.exports"],"sourceRoot":""}