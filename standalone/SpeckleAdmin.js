module.exports=function(t){function e(a){if(s[a])return s[a].exports;var n=s[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=16)}([function(t,e){t.exports=function(t,e,s,a,n,i){var r,o=t=t||{},d=typeof t.default;"object"!==d&&"function"!==d||(r=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId=n);var m;if(i?(m=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=m):a&&(m=a),m){var l=c.functional,u=l?c.render:c.beforeCreate;l?(c._injectStyles=m,c.render=function(t,e){return m.call(e),u(t,e)}):c.beforeCreate=u?[].concat(u,m):[m]}return{esModule:r,exports:o,options:c}}},function(t,e){t.exports=require("axios")},function(t,e){t.exports=require("vuex")},function(t,e){t.exports=require("lodash.debounce")},function(t,e){t.exports=require("vue")},function(t,e,s){"use strict";var a=s(26),n=s(52);e.a={name:"app",store:n.a,components:{Admin:a.a},data:function(){return{server:null,token:null,readySetGo:!1}},methods:{setLocalStorage:function(t){window.localStorage.setItem("token",t)}},mounted:function(){console.log("app  mounted"),-1!==window.location.href.indexOf("dev")?this.server="http://localhost:3000/api/v1":this.server=window.location.origin+"/api/v1",this.token=window.localStorage.getItem("token"),this.readySetGo=!0}}},function(t,e,s){"use strict";var a=s(1),n=s.n(a),i=s(28),r=s(31),o=s(48);e.a={name:"admin",props:{server:String,token:String},components:{LoginForm:i.a,StreamsView:r.a,Profile:o.a},watch:{auth:function(t){t||(this.showProfile=!1)}},computed:{auth:function(){return this.$store.state.auth}},data:function(){return{routes:[{name:"your streams",component:"streams-view",selected:!0}],showSnackbar:!1,message:null,currentView:"streams-view",catFact:null,showCatFact:!1,showProfile:!1}},methods:{changeView:function(t){var e=this;console.log(t),this.routes.forEach(function(s){t.name==s.name?(s.selected=!0,e.currentView=s.component):s.selected=!1})},getCatFact:function(){this.catFact=this.$store.state.facts[Math.floor(Math.random()*this.$store.state.facts.length)].fact},tryTokenLogin:function(){return n.a.get(this.server+"/accounts",{headers:{Authorization:this.token}})}},mounted:function(){var t=this;console.log("Admin ui mounted!"),window._adminBus.$on("message",function(e){t.message=e,t.showSnackbar=!0}),console.log(this.server,this.token),this.$store.state.server=this.server,this.tryTokenLogin().then(function(e){console.log("Login successful"),t.$store.state.auth=!0,t.$store.state.token=t.token,t.$store.state.user=e.data.resource,t.$emit("successLogin",t.token)}).catch(function(t){window._adminBus.$emit("message","Failed to log in.")})}}},function(t,e,s){"use strict";e.a={data:function(){return{sending:!1,error:null,password:null,email:null,name:null,surname:null,company:null}},methods:{register:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.sending=!0,t.$store.dispatch("register",{email:t.email,password:t.password,name:t.name,surname:t.surname,company:t.company}).then(function(e){t.sending=!1,t.$emit("succes",!0)}).catch(function(e){t.sending=!1,t.password=null,t.email=null,t.name=null,t.surname=null,t.company=null,t.error=e,t.$store.appMessages.push("Registration failed.")}))})},login:function(){var t=this;this.$validator.validateAll().then(function(e){(e||"name"==t.errors.items[0].field)&&(t.sending=!0,t.$store.dispatch("login",{password:t.password,email:t.email}).then(function(e){t.sending=!1,t.$emit("succes",!0)}).catch(function(e){t.sending=!1,t.password=null,t.error=e,t.$store.state.appMessages.push("Login failed.")}))})}}}},function(t,e,s){"use strict";var a=s(2),n=(s.n(a),s(9)),i=s(35),r=s(41),o=s(44),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t};e.a={components:{Editable:n.a,Permissions:i.a,Query:r.a,History:o.a},computed:d({selectedStream:function(){var t=this;return this.selectedStreamId?this.$store.state.streams.find(function(e){return e.streamId===t.selectedStreamId}):[]},archivedCount:function(){return this.$store.state.streams.filter(function(t){return t.deleted}).length},sharedCount:function(){return this.$store.state.streams.filter(function(t){return!t.isOwner}).length},streamsCount:function(){return this.filteredStreams.length},filteredStreams:function(){var t=this;return null==this.searchfilter||""==this.searchfilter?this.$store.state.streams.filter(function(e){return(!!t.showArchived||!e.deleted)&&(!!t.showShared||e.isOwner)}):(this.startIndex=0,this.$store.state.streams.filter(function(e){return e.name.toLowerCase().includes(t.searchfilter.toLowerCase())||e.streamId.toLowerCase().includes(t.searchfilter.toLowerCase())}))},paginatedStreams:function(){var t=this;return this.filteredStreams.sort(function(e,s){return t.sortBy,e[t.sortBy]<s[t.sortBy]?t.sortAscending?-1:1:e[t.sortBy]>s[t.sortBy]?t.sortAscending?1:-1:0}).slice(this.startIndex,this.startIndex+this.itemsPerPage)},pageCount:function(){return parseInt(this.streamsCount/this.itemsPerPage)+1},currentPage:function(){return 0==this.startIndex?1:this.startIndex/this.itemsPerPage+1}},Object(a.mapGetters)(["streamById"])),data:function(){return{searchfilter:null,showArchived:!1,showShared:!0,showClones:!1,startIndex:0,itemsPerPage:10,showPermissions:!1,showQuery:!1,showHistory:!1,showSharedInfo:!1,deleteStreamConfirm:!1,selectedStreamId:null,sortBy:"createdAt",sortAscending:!1}},methods:{goToViewer:function(t){var e=this.$store.state.server.replace("api","view/?"+t);console.log(e),window.open(e,"_blank").focus()},setStreamName:function(t,e){this.$store.dispatch("patchStream",{streamId:e,data:{name:t}})},setStreamArchived:function(t){this.$store.dispatch("patchStream",{streamId:t.streamId,data:{deleted:!t.deleted}})},setSort:function(t,e){this.startIndex=0,this.sortBy===t?this.sortAscending=!this.sortAscending:this.sortAscending=!0,this.sortBy=t}},mounted:function(){this.$store.dispatch("getStreams")}}},function(t,e,s){"use strict";function a(t){s(33)}var n=s(10),i=s(34),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e,s){"use strict";e.a={props:["value","streamId","disabled"],computed:{},data:function(){return{edit:!1,innerText:this.value.toString(),intialValue:null,showSave:!1,ignoreFocus:!1}},methods:{setEdit:function(){var t=this;this.disabled||(this.edit=!0,this.innerText=this.value,this.$nextTick(function(){t.$refs.inputfield.$el.focus()}))},reset:function(){this.innerText=this.intialValue,document.activeElement.blur()},submit:function(){var t=this;this.$validator.validateAll().then(function(e){return e?(t.edit=!1,t.innerText===t.intialValue?console.log("nothing changed"):(t.showSave=!0,t.ignoreFocus=!0,document.activeElement.blur(),void t.$emit("setValue",t.innerText,t.streamId))):console.log("has serrors")})},focusLost:function(){var t=this;if(this.ignoreFocus)return void(this.ignoreFocus=!1);this.$validator.validateAll().then(function(e){return e?(t.edit=!1,t.submit()):t.reset()})}},mounted:function(){this.value=this.value?this.value:"not specified",this.intialValue=this.value}}},function(t,e,s){"use strict";var a=s(3),n=s.n(a),i=s(37),r=s(2),o=(s.n(r),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t});e.a={components:{AddUsers:i.a},props:["streamId","userList"],watch:{"stream.private":function(){this.$store.dispatch("patchStream",{streamId:this.stream.streamId,data:{private:this.stream.private}})},"stream.anonymousComments":function(){this.$store.dispatch("patchStream",{streamId:this.stream.streamId,data:{anonymousComments:this.stream.anonymousComments}})},permissions:n()(function(){console.log("permissions changed dude"),this.$store.dispatch("patchStream",{streamId:this.stream.streamId,data:o({},this.permissions)}),this.$store.commit("setPermAgg",{streamId:this.stream.streamId,permAgg:this.users})},1e3)},computed:o({},Object(r.mapGetters)(["streamById"]),{stream:function(){return this.streamById(this.streamId)},permissions:function(){var t=[],e=[];return this.users.forEach(function(s){s.canWrite?(t.push(s._id),e.push(s._id)):s.canRead&&t.push(s._id)}),{canRead:t,canWrite:e}}}),data:function(){return{users:JSON.parse(JSON.stringify(this.userList)),showSearch:!1,showStreamId:!1}},methods:{removeUser:function(t){this.users.splice(t,1)},changeWrite:function(t,e){t.changeWrite||(t.canRead=!0)},addUser:function(t){this.users.push(o({},t))}},mounted:function(){}}},function(t,e,s){"use strict";var a=s(3),n=s.n(a),i=s(1),r=s.n(i);e.a={props:[],watch:{searchCriteria:function(){this.debounceSearch(this.searchCriteria,this)}},computed:{},data:function(){return{searchCriteria:"",searchResults:[]}},methods:{debounceSearch:n()(function(t,e){var s=e.$store.state;if(t.length<2)return e.setResults([]);r.a.post(s.server+"/accounts/search",{email:t},{headers:{Authorization:s.token}}).then(function(t){e.setResults(t.data.users)})},300),search:function(){console.log("search!")},setResults:function(t){var e=this;this.searchResults=t.filter(function(t){return t.email!=e.$store.state.user.email})},addUser:function(t){t.canRead=!0,t.canWrite=!1,this.searchResults.splice(this.searchResults.indexOf(t),1),this.$emit("addUser",t)}},mounted:function(){}}},function(t,e,s){"use strict";e.a={props:[],computed:{},data:function(){return{}},methods:{},mounted:function(){}}},function(t,e,s){"use strict";e.a={props:["stream"],computed:{},data:function(){return{}},methods:{},mounted:function(){}}},function(t,e,s){"use strict";var a=s(3),n=(s.n(a),s(9));e.a={components:{Editable:n.a},props:[],watch:{},computed:{fullname:{get:function(){return this.user.name+" "+this.user.surname}},user:function(){return this.$store.state.user}},data:function(){return{eName:"",eSurname:"",eComp:""}},methods:{setName:function(t){var e=t.split(" ");this.eName=e[0],this.eSurname=e[1],this.$store.dispatch("patchUser",{data:{name:this.eName,surname:this.eSurname}})},setCompany:function(t){this.eCompany=t,this.$store.dispatch("patchUser",{data:{company:this.eCompany}})},logout:function(){this.$store.commit("setCredentials",{auth:!1,token:null}),window.localStorage.clear()}},mounted:function(){}}},function(t,e,s){t.exports=s(17)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),n=s.n(a),i=s(1),r=s.n(i),o=s(18),d=s.n(o),c=s(19),m=s.n(c),l=s(20),u=s.n(l),h=s(21),v=s.n(h),p=s(22),f=(s.n(p),s(23)),_=(s.n(f),s(24));n.a.use(d.a),n.a.use(m.a),n.a.prototype.$http=r.a,window._adminBus=new n.a,n.a.use(v.a,{name:"timeago",locale:"en-US",locales:{"en-US":s(55)}}),n.a.filter("formatDate",function(t){if(t)return u()(String(t)).format("DD/MM/YYYY")}),new n.a({el:"#app",render:function(t){return t(_.a)}})},function(t,e){t.exports=require("vue-material")},function(t,e){t.exports=require("vee-validate")},function(t,e){t.exports=require("moment")},function(t,e){t.exports=require("vue-timeago")},function(t,e){},function(t,e){},function(t,e,s){"use strict";function a(t){s(25)}var n=s(5),i=s(54),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";function a(t){s(27)}var n=s(6),i=s(51),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";function a(t){s(29)}var n=s(7),i=s(30),r=s(0),o=a,d=r(n.a,i.a,!1,o,"data-v-67d80b90",null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-30 md-medium-size-50 md-small-size-60 md-xsmall-size-95"},[s("md-card",{staticClass:"md-elevation-10"},[t.sending?s("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}):t._e(),t._v(" "),s("md-toolbar",{staticClass:"md-primary md-dense md-elevation-0"},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("p",{},[t._v("Hello & welcome.")])])]),t._v(" "),s("div",{staticClass:"md-toolbar-section-end"},[s("a",{attrs:{href:"https://speckle.works"}},[s("img",{attrs:{src:"https://speckle.works/img/logos/logo-xs.png",width:"17"}}),t._v(" "),s("md-tooltip",{attrs:{"md-direction":"left"}},[t._v("Speckle.Works!")])],1)])]),t._v(" "),s("md-tabs",{staticClass:"xxxmd-primary",attrs:{"md-dynamic-height":""}},[s("md-tab",{attrs:{"md-label":"Login"}},[s("form",{on:{submit:function(t){t.preventDefault()}}},[s("md-field",{class:{"md-invalid":t.errors.has("email")}},[s("label",[t._v("Email address")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"email",type:"email",name:"email","data-vv-rules":"required|email",autocomplete:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("email")))])],1),t._v(" "),s("md-field",{class:{"md-invalid":t.errors.has("password")}},[s("label",[t._v("Password")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{type:"password",name:"password","data-vv-rules":"min:8|required","data-vv-name":"password",autocomplete:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("password")))])],1),t._v(" "),s("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit"},on:{click:t.login}},[t._v("Login")])],1)]),t._v(" "),s("md-tab",{attrs:{"md-label":"Register"}},[s("form",[s("md-field",{class:{"md-invalid":t.errors.has("email")}},[s("label",[t._v("Email address")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"email",type:"email",name:"email","data-vv-rules":"required|email",autocomplete:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("email")))])],1),t._v(" "),s("md-field",{class:{"md-invalid":t.errors.has("name")}},[s("label",[t._v("Name")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"name",type:"name",name:"name","data-vv-rules":"required|min:3",autocomplete:"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("name")))])],1),t._v(" "),s("md-field",[s("label",[t._v("Surname")]),t._v(" "),s("md-input",{attrs:{autocomplete:"surname"},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1),t._v(" "),s("md-field",[s("label",[t._v("Company/Department")]),t._v(" "),s("md-input",{model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),t._v(" "),s("md-field",{class:{"md-invalid":t.errors.has("password")}},[s("label",[t._v("Password")]),t._v(" "),s("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("password")))])],1),t._v(" "),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.sending},on:{click:t.register}},[t._v("\n                register\n              ")])],1)])],1)],1)],1)])])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){s(32)}var n=s(8),i=s(47),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout md-alignment-center-center spk-select-pointer-hover"},[s("div",{staticClass:"md-layout-item md-size-95"},[t.edit?t._e():s("div",{staticClass:"md-subheading",on:{click:function(e){t.setEdit()}}},[s("span",{staticClass:"spk-stream-name"},[t._v(t._s(t.value))])]),t._v(" "),t.edit?s("md-field",{class:{"md-invalid":t.errors.has("name"),"spk-stream-name":!0}},[s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],ref:"inputfield",attrs:{"data-vv-name":"name",name:"name","data-vv-rules":"required|min:3"},on:{keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"escape",void 0,e.key))return null;t.reset(e)}],blur:t.focusLost},model:{value:t.innerText,callback:function(e){t.innerText=e},expression:"innerText"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("name"),expression:"errors.has('name')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("name")))])],1):t._e()],1)])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){s(36)}var n=s(11),i=s(40),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";function a(t){s(38)}var n=s(12),i=s(39),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-app-toolbar",{staticClass:"md-primary md-dense",staticStyle:{height:"30px"}},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.$emit("close")}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("p",[t._v("User search")])],1)])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-padding spk-useradd-dialog"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("div",{staticClass:"md-subheading"},[t._v("Search for users by typing their email below:")]),t._v(" "),s("md-field",{class:{"md-invalid":t.errors.has("search string")},attrs:{"md-clearable":""}},[s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"search string","data-vv-rules":"min:3"},model:{value:t.searchCriteria,callback:function(e){t.searchCriteria=e},expression:"searchCriteria"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("search string"),expression:"errors.has('search string')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("search string")))])],1)],1)]),t._v(" "),0==t.searchResults.length&&t.searchCriteria.length>2?s("div",{staticClass:"md-layout md-alignment-center-center spk-padding"},[s("h3",[t._v("No users found")])]):t._e(),t._v(" "),s("md-content",{staticClass:"md-scrollbar spk-usersearch-results"},t._l(t.searchResults,function(e){return s("div",{staticClass:"md-layout md-alignment-center-center spk-padding spk-cell-users md-gutter"},[s("div",{staticClass:"md-layout-item md-size-30 truncate"},[t._v(t._s(e.name)+" "+t._s(e.surname))]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-caption truncate"},[t._v(t._s(e.email))]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20 md-caption md-text-center truncate"},[t._v(t._s(e.company?e.company:"n/a"))]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20"},[s("md-button",{staticClass:"md-icon-button md-dense",on:{click:function(s){t.addUser(e)}}},[s("md-icon",[t._v("add")])],1)],1)])}))],1)},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-content",[s("div",{staticClass:"spk-permissions-dialgoue"},[s("md-app-toolbar",{staticClass:"md-primary md-dense"},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.$emit("close")}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("p",{},[t._v("Stream Permissions")])],1)])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-80 md-small-size-95"},[s("br"),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-left md-gutter",attrs:{"xxxv-if":"users.length==0"}},[s("div",{staticClass:"md-layout-item"},[s("h2",{staticClass:"md-display-1"},[s("strong",{staticClass:"spk-select-pointer-hover",on:{click:function(e){t.showStreamId=!t.showStreamId}}},[t._v("\n              "+t._s(t.showStreamId?t.stream.streamId:t.stream.name)+"\n            ")]),t._v(" is "),s("span",{staticClass:"spk-color-blue spk-select-pointer-hover",on:{click:function(e){t.stream.private=!t.stream.private}}},[t._v(t._s(t.stream.private?"private":"public"))]),t._v(" "),s("md-switch",{staticClass:"md-primary",model:{value:t.stream.private,callback:function(e){t.$set(t.stream,"private",e)},expression:"stream.private"}}),t._v(" "),t.users.length>0&&t.stream.private?s("span",[t._v("and shared with "+t._s(t.users.length)+" users.")]):t._e(),t._v(" "),0==t.users.length&&t.stream.private?s("span",[t._v("and not currently shared.")]):t._e(),t._v(" "),t.stream.private?t._e():s("span",[t._v(" so anyone with the link can see it.")])],1),t._v(" "),s("h3",{staticClass:"md-subheading"},[t.stream.private?t._e():s("span",[t._v("Anonymous comments are "),s("span",{staticClass:"spk-color-blue spk-select-pointer-hover",on:{click:function(e){t.stream.anonymousComments=!t.stream.anonymousComments}}},[t._v(t._s(t.stream.anonymousComments?"allowed":"not allowed")+".")])])])])]),t._v(" "),0!=t.users.length?s("div",{staticClass:"md-layout md-alignment-center-left md-gutter"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("h2",{staticClass:"md-title"},[t._v("Users that this stream is shared with:")])])]):t._e(),t._v(" "),0==t.users.length?s("div",{staticClass:"md-layout md-alignment-center-left md-gutter"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("h2",{staticClass:"md-title"},[t._v("This stream is not shared with anyone.")])])]):t._e(),t._v(" "),s("br"),t._v(" "),0!=t.users.length?s("div",{staticClass:"md-layout md-alignment-center-left md-gutter md-small-hide"},[s("div",{staticClass:"md-layout-item md-size-30 md-caption"},[s("strong",[t._v("name")])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20 md-caption md-small-hide"},[s("strong",[t._v("email")])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-10 md-caption md-small-hide"},[s("strong",[t._v("company")])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-text-center md-caption"},[s("strong",[t._v("permissions")])]),t._v(" "),s("div",{staticClass:"md-layout-item md-text-right",on:{click:function(e){t.removeUser(t.index)}}})]):t._e(),t._v(" "),t._l(t.users,function(e,a){return 0!=t.users.length?s("div",{key:e.email,staticClass:"md-layout spk-cell-users md-alignment-center-left md-gutter"},[s("div",{staticClass:"md-layout-item md-size-30 md-small-size-40"},[t._v("\n            "+t._s(e.name)+" "+t._s(e.surname)+"\n          ")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20 md-caption md-small-hide"},[t._v("\n            "+t._s(e.email)+"\n          ")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-10 md-caption md-small-hide"},[t._v("\n            "+t._s(e.company?e.company:"n/a")+"\n          ")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-text-center"},[s("md-button",{class:{"md-raised":e.canWrite},staticStyle:{width:"120px"},on:{click:function(t){e.canWrite=!e.canWrite}}},[t._v("\n              "+t._s(e.canWrite?"Read & Write":"Read Only")+"\n            ")])],1),t._v(" "),s("div",{staticClass:"md-layout-item md-text-right",on:{click:function(e){t.removeUser(a)}}},[s("md-button",{staticClass:"md-icon-button md-accent md-dense"},[s("md-icon",[t._v("close")]),t._v(" "),s("md-tooltip",{staticStyle:{"z-index":"1000"},attrs:{"md-direction":"bottom"}},[t._v("Remove this user")])],1)],1)]):t._e()}),t._v(" "),s("br"),t._v(" "),s("md-dialog",{attrs:{"md-active":t.showSearch,"md-fullscreen":!1},on:{"update:mdActive":function(e){t.showSearch=e}}},[s("add-users",{on:{close:function(e){t.showSearch=!1},addUser:t.addUser}})],1),t._v(" "),s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100 md-text-right"},[s("md-button",{staticClass:"md-primary md-raised",on:{click:function(e){t.showSearch=!0}}},[t._v("Add users")]),t._v(" "),s("md-button",{staticClass:"md-raised",on:{click:function(e){t.$emit("close")}}},[t._v("Close")])],1)])],2)])],1)])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){s(42)}var n=s(13),i=s(43),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-content",[s("div",{staticClass:"spk-query-dialgoue"},[s("md-app-toolbar",{staticClass:"md-primary md-dense"},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.$emit("close")}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("p",{},[t._v("Stream Query")])],1)])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-80"},[s("br"),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center md-gutter",attrs:{"xxxv-if":"users.length==0"}},[s("div",{staticClass:"md-layout-item md-size-50 md-small-size-90"},[s("h2",{staticClass:"md-display-1"},[t._v("\n              This is a placeholder for future stream "),s("strong",[t._v("querying")]),t._v(" functionality. \n            ")]),t._v(" "),s("p",[t._v('\n              This should be an amazing by which you should be easily able to assemble a query against this stream, essentially a "filter" for the objects in the stream. \n            ')]),t._v(" "),s("p",[t._v('\n              It should help you do things like "Give me all the objects of this type and that type, exclude this, and please give me just these properties", thus allowing for easy reporting and scheduling.\n            ')]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/speckleworks/SpeckleAdmin"}},[t._v("PRs welcome!")])])])])])])],1)])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){s(45)}var n=s(14),i=s(46),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-content",[s("div",{staticClass:"spk-history-dialgoue"},[s("md-app-toolbar",{staticClass:"md-primary md-dense"},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.$emit("close")}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("p",{},[t._v("Stream Versioning")])],1)])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-80"},[s("br"),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center md-gutter",attrs:{"xxxv-if":"users.length==0"}},[s("div",{staticClass:"md-layout-item md-size-50 md-small-size-90"},[s("h2",{staticClass:"md-display-1"},[t._v("\n              This is a placeholder for future stream "),s("strong",[t._v("versioning")]),t._v(" functionality. \n            ")]),t._v(" "),s("p",[t._v("\n              Streams already have versioning enabled on them, through two methods in the api, namely cloning and diffing, and two fields, parent and the children array. The children array stores all the clones, or branches, that this stream had. The parent field keeps track of where the stream originated from. There's nothing stopping you from creating a new stream version, saving one and storing it for later, etc. \n            ")]),t._v(" "),s("p",[t._v("For example, here's the history of this stream:")]),t._v(" "),s("pre",[t._v("Parent: "+t._s(t.stream.parent))]),t._v(" "),s("pre",[t._v("Children: "+t._s(t.stream.children))]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/speckleworks/SpeckleAdmin"}},[t._v("PRs welcome!")])])])])])])],1)])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-card",{staticClass:"spk-search-card md-elevation-8"},[s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-80 md-medium-size-100"},[s("div",{staticClass:"md-layout md-alignment-center-left"},[s("div",{staticClass:"md-layout-item md-size-50 spk-padding md-medium-size-80"},[s("md-field",{attrs:{"md-clearable":""}},[s("md-icon",[t._v("search")]),t._v(" "),s("md-input",{model:{value:t.searchfilter,callback:function(e){t.searchfilter=e},expression:"searchfilter"}})],1)],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-50 spk-padding md-medium-hide"},[s("div",{staticClass:"md-layout md-alignment-center-right"},[s("div",{staticClass:"md-layout-item md-size-20 md-text-center"},[s("div",{staticClass:"md-caption"},[t._v("Showing "+t._s(t.startIndex)+" - "+t._s(t.startIndex+t.itemsPerPage)+" out of "),s("strong",[t._v(" "+t._s(t.filteredStreams.length)+" ")]),t._v(" streams.")])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-80 md-text-right"},[s("md-checkbox",{staticClass:"md-primary",model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}},[s("small",[t._v("Show Archived ("+t._s(t.archivedCount)+")")])]),t._v(" "),s("md-checkbox",{staticClass:"md-primary",model:{value:t.showShared,callback:function(e){t.showShared=e},expression:"showShared"}},[s("small",[t._v("Show Shared ("+t._s(t.sharedCount)+")")])]),t._v(" "),s("md-button",{staticClass:"md-icon-button md-dense",staticStyle:{"margin-top":"10px"},on:{click:function(e){t.$store.dispatch("getStreams")}}},[s("md-icon",[t._v("refresh")])],1)],1)]),t._v(" "),s("div")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20 spk-padding md-medium-show md-text-right"},[s("md-menu",[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",[s("md-menu-item",[s("div",{staticClass:"md-caption"},[t._v("Showing "+t._s(t.startIndex)+" - "+t._s(t.startIndex+t.itemsPerPage)+" out of "),s("strong",[t._v(" "+t._s(t.filteredStreams.length)+" ")]),t._v(" streams.")])]),t._v(" "),s("md-menu-item",[s("md-checkbox",{staticClass:"md-primary",model:{value:t.showShared,callback:function(e){t.showShared=e},expression:"showShared"}},[s("small",[t._v("Show Shared ("+t._s(t.sharedCount)+")")])])],1),t._v(" "),s("md-menu-item",[s("md-checkbox",{staticClass:"md-primary",model:{value:t.showArchived,callback:function(e){t.showArchived=e},expression:"showArchived"}},[s("small",[t._v("Show Archived ("+t._s(t.archivedCount)+")")])])],1),t._v(" "),s("md-menu-item",[s("md-button",{staticClass:"md-dense md-primary",attrs:{xxxstyle:"margin-top:10px;"},on:{click:function(e){t.$store.dispatch("getStreams")}}},[t._v("\n                    refresh streams\n                  ")])],1)],1)],1)],1)])])])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center xxxspk-push-down"},[0==t.streamsCount?s("div",{staticClass:"md-layout-item md-size-80 md-small-size-90",staticStyle:{"padding-top":"100px"}},[t._m(0)]):t._e(),t._v(" "),s("div",{staticClass:"md-layout-item md-size-80 md-medium-size-95",staticStyle:{"padding-top":"100px"}},[0!=t.streamsCount?s("div",{staticClass:"md-layout md-size-80 spk-cell md-alignment-center-space-around md-gutter "},[t._m(1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-25 md-small-size-40 md-caption spk-select-pointer-hover",on:{click:function(e){t.setSort("name")}}},[s("strong",[t._v("name")]),t._v(" "),"name"===t.sortBy?s("md-icon",{staticClass:"spk-small-icon"},[t._v(t._s(t.sortAscending?"arrow_upward":"arrow_downward"))]):t._e()],1),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-5 md-medium-size-15 md-text-center md-caption spk-select-pointer-hover",on:{click:function(e){t.setSort("private")}}},[s("strong",[t._v("perms")]),t._v(" "),"private"===t.sortBy?s("md-icon",{staticClass:"spk-small-icon"},[t._v(t._s(t.sortAscending?"arrow_upward":"arrow_downward"))]):t._e()],1),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-10 md-medium-size-20 md-caption spk-select-pointer-hover md-xsmall-hide",on:{click:function(e){t.setSort("updatedAt")}}},[s("strong",[t._v("last mod")]),t._v(" "),"updatedAt"===t.sortBy?s("md-icon",{staticClass:"spk-small-icon"},[t._v(t._s(t.sortAscending?"arrow_upward":"arrow_downward"))]):t._e()],1),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-10 md-medium-size-15 md-caption spk-select-pointer-hover",on:{click:function(e){t.setSort("createdAt")}}},[s("strong",[t._v("created")]),t._v(" "),"createdAt"===t.sortBy?s("md-icon",{staticClass:"spk-small-icon"},[t._v(t._s(t.sortAscending?"arrow_upward":"arrow_downward"))]):t._e()],1),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"md-layout-item md-size-15 md-text-right md-medium-hide md-caption",on:{click:function(e){t.setSort("deleted"),t.showArchived=!0}}},[s("strong",[t._v("archived")]),t._v(" "),"deleted"===t.sortBy?s("md-icon",{staticClass:"spk-small-icon"},[t._v(t._s(t.sortAscending?"arrow_upward":"arrow_downward"))]):t._e()],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-10 md-xsmall-size-25 spk-padding md-medium-show md-text-right",staticStyle:{"pointer-events":"all"}})]):t._e(),t._v(" "),t._l(t.paginatedStreams,function(e){return s("div",{staticClass:"md-layout md-alignment-center-space-around md-gutter spk-cell",class:{"spk-disabled":e.deleted,"spk-shared-background":!e.isOwner}},[s("div",{staticClass:"md-layout-item md-size-10 md-caption md-small-hide"},[t._v("\n          "+t._s(e.streamId)+"\n        ")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-25 md-small-size-40"},[s("editable",{attrs:{value:e.name,"stream-id":e.streamId,disabled:!(e.canWrite.indexOf(t.$store.state.user._id)>=0||e.isOwner)},on:{setValue:t.setStreamName}})],1),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-5 md-medium-size-15"},[e.isOwner?s("div",[s("md-button",{staticClass:"md-dense-xxx md-icon-button md-raisedxxx",class:{"md-primary":e.isOwner},staticStyle:{"margin-top":"10px"},attrs:{disabled:e.deleted},on:{click:function(s){t.showPermissions=!0,t.selectedStreamId=e.streamId}}},[s("md-icon",[t._v(t._s(e.private?0==e.userPermissions.length?"lock_outline":"lock_open":"public"))])],1)],1):s("div",[s("md-button",{staticClass:"md-icon-button",on:{click:function(s){t.showSharedInfo=!0,t.selectedStreamId=e.streamId}}},[s("md-icon",[t._v(t._s(e.canWrite.indexOf(t.$store.state.user._id)>=0?"mode_edit":"remove_red_eye"))])],1)],1)]),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-10 md-medium-size-20 md-xsmall-hide"},[s("span",{staticClass:"md-caption"},[s("timeago",{attrs:{since:e.updatedAt,"auto-update":60}})],1)]),t._v(" "),s("div",{staticClass:"md-text-center md-layout-item md-size-10 md-medium-size-15"},[t._v("\n          "+t._s(t._f("formatDate")(e.createdAt))+"\n        ")]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-20 md-text-center md-medium-hide"},[s("md-button",{staticClass:"md-dense md-icon-button",staticStyle:{"margin-top":"10px","pointer-events":"all"},on:{click:function(s){t.goToViewer(e.streamId)}}},[s("md-icon",[t._v("3d_rotation")])],1),t._v(" "),s("md-button",{staticClass:"md-dense md-icon-button md-small-hide",staticStyle:{"margin-top":"10px","pointer-events":"all"},on:{click:function(s){t.showHistory=!0,t.selectedStreamId=e.streamId}}},[s("md-icon",[t._v("history")])],1),t._v(" "),s("md-button",{staticClass:"md-dense md-icon-button md-xsmall-hide",staticStyle:{"margin-top":"10px"},on:{click:function(s){t.showQuery=!0,t.selectedStreamId=e.streamId}}},[s("md-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-15 md-text-right md-medium-hide"},[e.deleted?s("md-button",{staticClass:"md-accent md-icon-button md-dense",staticStyle:{"margin-top":"10px","pointer-events":"all"},on:{click:function(s){t.deleteStreamConfirm=!0,t.selectedStreamId=e.streamId}}},[s("md-icon",[t._v("delete")]),t._v(" "),s("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("Delete this stream permanently")])],1):t._e(),t._v(" "),s("md-button",{class:{"md-dense md-icon-button":!0,"md-accent":!e.deleted,"md-primary":e.deleted},staticStyle:{"margin-top":"10px","pointer-events":"all"},attrs:{disabled:!(e.canWrite.indexOf(t.$store.state.user._id)>=0||e.isOwner)},on:{click:function(s){t.setStreamArchived(e)}}},[s("md-icon",[t._v(t._s(e.deleted?"unarchive":"archive"))]),t._v(" "),s("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v(t._s(e.deleted?"Unarchive stream":"Archive stream"))])],1)],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-10 md-xsmall-size-25 spk-padding md-medium-show md-text-right",staticStyle:{"pointer-events":"all"}},[s("md-menu",[s("md-button",{staticClass:"md-icon-button",attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),t._v(" "),s("md-menu-content",[s("md-menu-item",[s("md-button",{staticClass:"md-dense",on:{click:function(s){t.goToViewer(e.streamId)}}},[t._v("\n                  View 3d\n                ")])],1),t._v(" "),s("md-menu-item",[s("md-button",{staticClass:"md-dense",on:{click:function(s){t.showHistory=!0,t.selectedStreamId=e.streamId}}},[t._v("\n                  History\n                ")])],1),t._v(" "),s("md-menu-item",[s("md-button",{staticClass:"md-dense",on:{click:function(s){t.showQuery=!0,t.selectedStreamId=e.streamId}}},[t._v("\n                  Query\n                ")])],1),t._v(" "),s("md-divider"),t._v(" "),s("md-menu-item",[s("md-button",{class:{"md-dense":!0,"md-accent":!e.deleted,"md-primary":e.deleted},attrs:{disabled:!(e.canWrite.indexOf(t.$store.state.user._id)>=0||e.isOwner)},on:{click:function(s){t.setStreamArchived(e)}}},[t._v("\n                  "+t._s(e.deleted?"Unarchive":"Archive")+"\n                ")])],1),t._v(" "),e.deleted?s("md-menu-item",[s("md-button",{class:{"md-dense":!0,"md-accent":!0,"md-primary":e.deleted},on:{click:function(s){t.deleteStreamConfirm=!0,t.selectedStreamId=e.streamId}}},[t._v("\n                  Delete\n                ")])],1):t._e()],1)],1)],1)])})],2),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-small-size-100",staticStyle:{"margin-top":"40px"}},[s("div",{staticClass:"md-layout md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-text-center"},[s("md-button",{staticClass:"md-dense md-icon-button md-raised md-primary",attrs:{disabled:0==t.startIndex},on:{click:function(e){t.startIndex-=0!=t.startIndex?t.itemsPerPage:0}}},[s("md-icon",[t._v("chevron_left")])],1)],1),t._v(" "),s("div",{staticClass:"md-layout-item md-text-center"},[s("div",{staticClass:"md-caption md-text-center"},[t._v(t._s(t.currentPage)+" / "+t._s(t.pageCount))])]),t._v(" "),s("div",{staticClass:"md-layout-item md-text-center"},[s("md-button",{staticClass:"md-dense md-icon-button md-raised md-primary",attrs:{disabled:t.currentPage==t.pageCount},on:{click:function(e){t.startIndex+=t.currentPage==t.pageCount?0:t.itemsPerPage}}},[s("md-icon",[t._v("chevron_right")])],1)],1)])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-100 md-small-size-100 md-text-center",staticStyle:{"margin-top":"20px","margin-bottom":"40px"}},[s("div",{staticClass:"md-caption"},[t._v("Showing "+t._s(t.startIndex)+" - "+t._s(t.startIndex+t.itemsPerPage)+" out of "),s("strong",[t._v(" "+t._s(t.filteredStreams.length)+" ")]),t._v(" streams.")])])]),t._v(" "),t.showPermissions?s("permissions",{attrs:{"stream-id":t.selectedStreamId,"user-list":t.selectedStream.userPermissions},on:{close:function(e){t.showPermissions=!1}}}):t._e(),t._v(" "),t.showQuery?s("query",{on:{close:function(e){t.showQuery=!1}}}):t._e(),t._v(" "),t.showHistory?s("history",{attrs:{stream:t.selectedStream},on:{close:function(e){t.showHistory=!1}}}):t._e(),t._v(" "),t.showSharedInfo?s("md-dialog",{attrs:{"md-active":t.showSharedInfo,"md-fullscreen":!1},on:{"update:mdActive":function(e){t.showSharedInfo=e}}},[s("div",[s("md-app-toolbar",{staticClass:"md-primary md-dense",staticStyle:{height:"30px"}},[s("div",{staticClass:"md-toolbar-section-start"},[s("div",{staticClass:"md-toolbar-row"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.showSharedInfo=!1}}},[s("md-icon",[t._v("close")])],1),t._v(" "),s("p",[t._v("Shared Stream Info")])],1)])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-padding spk-useradd-dialog",staticStyle:{padding:"30px"}},[s("div",{staticClass:"md-layout-item md-size-100"},[s("div",{staticClass:"md-display-1"},[t._v("Owner: "+t._s(t.selectedStream.owner.name)+" "+t._s(t.selectedStream.owner.surname))]),t._v(" "),s("div",{staticClass:"md-caption"},[t._v(t._s(t.selectedStream.owner.email))]),t._v(" "),s("br"),t._v(" "),s("md-divider"),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"md-subheading"},[t._v("You can "),s("span",{staticClass:"spk-color-blue"},[t._v(t._s(t.selectedStream.canWrite.indexOf(t.$store.state.user._id)>=0?"read & write":"only view")+" "),s("md-icon",[t._v(t._s(t.selectedStream.canWrite.indexOf(t.$store.state.user._id)>=0?"mode_edit":"remove_red_eye"))])],1)])],1)])],1)]):t._e(),t._v(" "),t.selectedStream?s("md-dialog-confirm",{staticStyle:{"z-index":"50000"},attrs:{"md-active":t.deleteStreamConfirm,"md-fullscreen":!1,"md-title":"Delete stream?","md-content":"Are you sure you want to delete this stream? This action cannot be undone.","md-confirm-text":"Yes","md-cancel-text":"Yikes! Take me back."},on:{"update:mdActive":function(e){t.deleteStreamConfirm=e},"md-cancel":function(t){},"md-confirm":function(e){t.$store.dispatch("deleteStream",t.selectedStream)}}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("br"),t._v(" \n        "),s("br"),t._v(" "),s("div",{staticClass:"md-display-1"},[t._v("No streams here.")]),t._v(" "),s("div",{staticClass:"md-subheading"},[t._v("You haven't created any streams, none match your search or they're all archived.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item md-size-10 md-caption md-small-hide"},[s("strong",[t._v("streamId")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item md-size-20 md-text-center md-medium-hide md-caption"},[s("strong",[t._v("extras")])])}],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){s(49)}var n=s(15),i=s(50),r=s(0),o=a,d=r(n.a,i.a,!1,o,null,null);e.a=d.exports},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"20px"}},[s("h1",[t._v("Profile")]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-cell"},[s("div",{staticClass:"md-layout-item md-subheading"},[s("editable",{attrs:{value:t.fullname},on:{setValue:t.setName}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-caption"},[t._v("name")])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-cell"},[s("div",{staticClass:"md-layout-item md-subheading"},[s("editable",{attrs:{value:t.user.company},on:{setValue:t.setCompany}})],1),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-caption"},[t._v("company")])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-cell"},[s("div",{staticClass:"md-layout-item md-caption"},[s("strong",[t._v(t._s(t.user.email))])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-caption"},[t._v("email")])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-cell"},[s("div",{staticClass:"md-layout-item md-caption"},[s("strong",[t._v(t._s(t._f("formatDate")(t.user.createdAt)))])]),t._v(" "),s("div",{staticClass:"md-layout-item md-size-30 md-caption"},[t._v("member since")])]),t._v(" "),s("div",{staticClass:"md-layout md-alignment-center-center spk-cell"},[s("md-button",{staticClass:"md-dense md-accent",on:{click:t.logout}},[t._v("Logout")])],1)])},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("md-app",{attrs:{"md-mode":"fixed"}},[s("md-app-drawer",{attrs:{"md-active":t.showProfile},on:{"update:mdActive":function(e){t.showProfile=e}}},[s("profile")],1),t._v(" "),t.$store.state.auth?s("md-app-toolbar",{staticClass:"md-primary md-dense",staticStyle:{"z-index":"10"}},[s("div",{staticClass:"md-toolbar-row"},[s("div",{staticClass:"md-toolbar-section-start"},[s("md-button",{staticClass:"md-dense md-icon-button",on:{click:function(e){t.showProfile=!0}}},[s("md-icon",[t._v("account_circle")])],1),t._v(" "),s("p",[t._v("Hello "+t._s(t.$store.state.user.name)+"!")])],1),t._v(" "),s("div",{staticClass:"md-toolbar-section-end"},[s("a",{attrs:{href:"https://speckle.works"}},[s("img",{attrs:{src:"https://speckle.works/img/logos/logo-xs.png",width:"17"}}),t._v(" "),s("md-tooltip",{attrs:{"md-direction":"left"}},[t._v("Speckle.Works!")])],1)])])]):t._e(),t._v(" "),s("md-app-content",[t.auth?s(t.currentView,{tag:"component"}):s("login-form"),t._v(" "),s("md-snackbar",{staticStyle:{"z-index":"100000"},attrs:{"md-position":"left","md-duration":2e3,"md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e}}},[s("span",[t._v(t._s(t.message))]),t._v(" "),s("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e,s){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}var n=s(4),i=s.n(n),r=s(2),o=s.n(r),d=s(1),c=s.n(d),m=s(53),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t};i.a.use(o.a),e.a=new o.a.Store({state:{facts:m.a.facts,user:{name:"Not initialised...",surname:"Not initialised...",company:"Not initialised...",email:"Not initialised..."},server:null,auth:!1,token:null,streams:[],appMessages:["Welcome!"]},getters:{streamById:function(t){return function(e){return t.streams.find(function(t){return t.streamId===e})}}},actions:{register:function(t,e){var s=this;return new Promise(function(a,n){c.a.post(s.state.server+"/accounts/register",{email:e.email,password:e.password,name:e.name,surname:e.surname,company:e.company}).then(function(e){return e.data.success?(t.commit("setCredentials",{token:e.data.resource.token,auth:!0}),window.localStorage.setItem("token",e.data.resource.token),c.a.get(s.state.server+"/accounts",{headers:{Authorization:e.data.token}})):n(e.data.message)}).then(function(e){t.commit("setUser",e.data.resource),window._adminBus.$emit("message","Registration ok! Welcome "+e.data.resource.name+"!"),a()}).catch(function(t){window._adminBus.$emit("message","Failed to register. Maybe you've used this email before?"),n("Failed to register. Maybe you've used this email before?")})})},login:function(t,e){var s=this;return new Promise(function(a,n){c.a.post(s.state.server+"/accounts/login",{email:e.email,password:e.password}).then(function(e){return e.data.success?(t.commit("setCredentials",{token:e.data.resource.token,auth:!0}),window.localStorage.setItem("token",e.data.resource.token),c.a.get(s.state.server+"/accounts",{headers:{Authorization:e.data.resource.token}})):n(e.data.message)}).then(function(e){t.commit("setUser",e.data.resource),window._adminBus.$emit("message","Login ok! Welcome "+e.data.user.name+"!"),a()}).catch(function(t){window._adminBus.$emit("message","Failed to authenticate."),n("Failed to authenticate.")})})},getStreams:function(t){var e=this;return new Promise(function(s,n){t.commit("addStreamsBulk",[]),c.a.get(e.state.server+"/streams",{headers:{Authorization:e.state.token}}).then(function(n){t.commit("addStreamsBulk",[].concat(a(n.data.resources))),window._adminBus.$emit("message","Here are your streams, "+e.state.user.name+"!"),s()}).catch(function(t){window._adminBus.$emit("message","Failed to get streams."),n(t)})})},patchStream:function(t,e){var s=this;return new Promise(function(a,n){c.a.put(s.state.server+"/streams/"+e.streamId,e.data,{headers:{Authorization:s.state.token}}).then(function(s){t.commit("patchStream",e),window._adminBus.$emit("message","Stream edited."),a(s.data)}).catch(function(t){window._adminBus.$emit("message","Failed to edit stream: "+t.message),n(t)})})},deleteStream:function(t,e){var s=this;return new Promise(function(a,n){c.a.delete(s.state.server+"/streams/"+e.streamId,{headers:{Authorization:s.state.token}}).then(function(s){t.commit("deleteStream",e),window._adminBus.$emit("message","Stream deleted."),a(s.data)}).catch(function(t){window._adminBus.$emit("message","Failed to delete stream."),n(t)})})},patchUser:function(t,e){var s=this;return new Promise(function(a,n){c.a.put(s.state.server+"/accounts",l({},e.data),{headers:{Authorization:s.state.token}}).then(function(s){t.commit("patchUser",e),window._adminBus.$emit("message","Edit successful."),a(s.data)}).catch(function(t){window._adminBus.$emit("message","Failed to edit profile."),n(t)})})}},mutations:{patchStream:function(t,e){var s=t.streams.find(function(t){return t.streamId===e.streamId});for(var a in e.data)s.hasOwnProperty(a)&&(s[a]=e.data[a])},patchUser:function(t,e){for(var s in e.data)t.user.hasOwnProperty(s)&&(t.user[s]=e.data[s])},setCredentials:function(t,e){t.auth=e.auth,t.token=e.token},setUser:function(t,e){e.company&&" "!=e.company||(e.company="not specified"),t.user=e},setPermAgg:function(t,e){t.streams.find(function(t){return t.streamId===e.streamId}).userPermissions=e.permAgg},addStreamsBulk:function(t,e){t.streams=e,t.streams.forEach(function(e){e.isOwner=t.user._id==e.owner._id,e.selected=!1,e.isOwner&&(e.canRead.forEach(function(t){t.canRead=!0,t.canWrite=!1}),e.canWrite.forEach(function(t){t.canWrite=!0,t.canRead=!0}),e.userPermissions=[].concat(a(e.canWrite),a(e.canRead.filter(function(t){return!e.canWrite.find(function(e){return e.email==t.email})}))),e.canRead=e.canRead.map(function(t){return t._id}),e.canWrite=e.canWrite.map(function(t){return t._id}),e.isClone=null!=e.parent)})},deleteStream:function(t,e){t.streams.splice(t.streams.indexOf(e),1)}}})},function(t,e,s){"use strict";e.a={facts:[{fact:"The first official cat show in the UK was organised at Crystal Palace in 1871.",length:78},{fact:"Tylenol and chocolate are both poisionous to cats.",length:50},{fact:"A cat's normal temperature varies around 101 degrees Fahrenheit.",length:64},{fact:"Cats come back to full alertness from the sleep state faster than any other creature.",length:85},{fact:"In one stride, a cheetah can cover 23 to 26 feet (7 to 8 meters).",length:65},{fact:"In the original Italian version of Cinderella, the benevolent fairy godmother figure was a cat.",length:95},{fact:"Cats can be right-pawed or left-pawed.",length:38},{fact:"In multi-cat households, cats of the opposite sex usually get along better.",length:75},{fact:"Cats make about 100 different sounds. Dogs make only about 10.",length:62},{fact:"Cats have supersonic hearing",length:28},{fact:"Ailurophile is the word cat lovers are officially called.",length:57},{fact:"A cat's normal pulse is 140-240 beats per minute, with an average of 195.",length:75},{fact:"Cats see six times better in the dark and at night than humans.",length:63},{fact:"An adult lion's roar can be heard up to five miles (eight kilometers) away.",length:75},{fact:"A cat's hearing is much more sensitive than humans and dogs.",length:60},{fact:"A happy cat holds her tail high and steady.",length:43},{fact:"One reason that kittens sleep so much is because a growth hormone is released only during sleep.",length:96},{fact:"It has been scientifically proven that stroking a cat can lower one's blood pressure.",length:85},{fact:"According to a Gallup poll, most American pet owners obtain their cats by adopting strays.",length:90},{fact:"A cat usually has about 12 whiskers on each side of its face.",length:61},{fact:"Cats spend nearly 1/3 of their waking hours cleaning themselves.",length:64},{fact:"Cats have 300 million neurons; dogs have about 160 million",length:58},{fact:"A cat lover is called an Ailurophilia (Greek: cat+lover).",length:57},{fact:"Cats can judge within 3 inches the precise location of a sound being made 1 yard away.",length:86},{fact:"In contrast to dogs, cats have not undergone major changes during their domestication process.",length:94},{fact:"Today there are about 100 distinct breeds of the domestic cat.",length:62},{fact:"A healthy cat has a temperature between 38 and 39 degrees Celcius.",length:66},{fact:"When a cat drinks, its tongue - which has tiny barbs on it - scoops the liquid up backwards.",length:92},{fact:"There are up to 60 million feral cats in the United States alone.",length:65},{fact:"On average, a cat will sleep for 16 hours a day.",length:48},{fact:"Cats can jump up to 7 times their tail length.",length:46},{fact:"Jaguars are the only big cats that don't roar.",length:46},{fact:"A cat will tremble or shiver when it is extreme pain.",length:55},{fact:"If they have ample water, cats can tolerate temperatures up to 133 °F.",length:71},{fact:"Cats dislike citrus scent.",length:26},{fact:"Cats walk on their toes.",length:24},{fact:"The leopard is the most widespread of all big cats.",length:51},{fact:"Fossil records from two million years ago show evidence of jaguars.",length:67},{fact:"A cat's field of vision is about 200 degrees.",length:45},{fact:"Julius Ceasar, Henri II, Charles XI, and Napoleon were all afraid of cats.",length:74},{fact:"The ancestor of all domestic cats is the African Wild Cat which still exists today.",length:83},{fact:"The first cat show was organized in 1871 in London. Cat shows later became a worldwide craze.",length:93},{fact:"Both humans and cats have identical regions in the brain responsible for emotion.",length:81},{fact:"Blue-eyed, pure white cats are frequently deaf.",length:47},{fact:"There are more than 500 million domestic cats in the world, with approximately 40 recognized breeds.",length:100},{fact:"A cat can sprint at about thirty-one miles per hour.",length:52},{fact:"The cat's footpads absorb the shocks of the landing when the cat jumps.",length:71},{fact:"Many Egyptians worshipped the goddess Bast, who had a woman’s body and a cat’s head.",length:88},{fact:"Most cats adore sardines.",length:25},{fact:"After humans, mountain lions have the largest range of any mammal in the Western Hemisphere.",length:92},{fact:"Heat occurs several times a year and can last anywhere from 3 to 15 days.",length:73},{fact:"Cats purr at the same frequency as an idling diesel engine, about 26 cycles per second.",length:87},{fact:"Cats lived with soldiers in trenches, where they killed mice during World War I.",length:80},{fact:"About 37% of American homes today have at least 1 cat.",length:54},{fact:"Cats have about 130,000 hairs per square inch (20,155 hairs per square centimeter).",length:83},{fact:"In the 1750s, Europeans introduced cats into the Americas to control pests.",length:75},{fact:"Cats have been domesticated for half as long as dogs have been.",length:63},{fact:"Cats are the world's most popular pets, outnumbering dogs by as many as three to one",length:84},{fact:"A cat can travel at a top speed of approximately 31 mph (49 km) over a short distance.",length:86},{fact:"A cat has two vocal chords, and can make over 100 sounds.",length:57},{fact:"The richest cat is Blackie who was left £15 million by his owner, Ben Rea.",length:75},{fact:"Cats eat grass to aid their digestion and to help them get rid of any fur in their stomachs.",length:92},{fact:"A steady diet of dog food may cause blindness in your cat - it lacks taurine.",length:77},{fact:"Cheetahs do not roar, as the other big cats do. Instead, they purr.",length:67},{fact:"A cat’s heart beats nearly twice as fast as a human heart, at 110 to 140 beats a minute.",length:90}]}},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[t.readySetGo?s("admin",{attrs:{server:t.server,token:t.token},on:{successLogin:t.setLocalStorage}}):t._e()],1)},n=[],i={render:a,staticRenderFns:n};e.a=i},function(t,e){t.exports=require("vue-timeago/locales/en-US.json")}]);
//# sourceMappingURL=SpeckleAdmin.js.map